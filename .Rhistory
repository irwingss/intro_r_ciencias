Boston %>%
filter(rad %in% 1:3 & zn != 0) %>%
group_by(tax) %>%
summarise(age_promedio = mean(age),
rad = unique(rad)) %>%
mutate(tax = paste0("N_",tax),
tax = as.factor(tax),
rad = as.factor(rad)) %>%
ggplot(aes(x=reorder(tax, age_promedio), y=age_promedio, fill=rad))+
geom_bar(stat="identity")+
geom_text(aes(label=round(age_promedio,2)), color ="white",
hjust = 1.1)+
scale_y_discrete(expand = c(0,0,0,10))+
scale_fill_manual(values = colorPal)+
labs(x="Nivel de Tax", y="Edad promedio", fill="Grupo",
title = "Edad promedio por nivel de Tax",
subtitle = "Datos obtenidos de Boston (1969)")+
coord_flip()+
theme_minimal()+
theme(legend.position = "bottom",
axis.ticks.length.y = unit(0, "cm"),
legend.key.height = unit(0.2,"cm"),
legend.key.width = unit(1.5, "cm"),
title = element_text(face = 2))+
facet_wrap(~Grupo)
# Pipeline
Boston %>%
filter(rad %in% 1:3 & zn != 0) %>%
group_by(tax) %>%
summarise(age_promedio = mean(age),
rad = unique(rad)) %>%
mutate(tax = paste0("N_",tax),
tax = as.factor(tax),
rad = as.factor(rad)) %>%
ggplot(aes(x=reorder(tax, age_promedio), y=age_promedio, fill=rad))+
geom_bar(stat="identity")+
geom_text(aes(label=round(age_promedio,2)), color ="white",
hjust = 1.1)+
scale_y_discrete(expand = c(0,0,0,10))+
scale_fill_manual(values = colorPal)+
labs(x="Nivel de Tax", y="Edad promedio", fill="Grupo",
title = "Edad promedio por nivel de Tax",
subtitle = "Datos obtenidos de Boston (1969)")+
coord_flip()+
theme_minimal()+
theme(legend.position = "bottom",
axis.ticks.length.y = unit(0, "cm"),
legend.key.height = unit(0.2,"cm"),
legend.key.width = unit(1.5, "cm"),
title = element_text(face = 2))+
facet_wrap(~rad)
# Pipeline
Boston %>%
filter(rad %in% 1:3 & zn != 0) %>%
group_by(tax) %>%
summarise(age_promedio = mean(age),
rad = unique(rad)) %>%
mutate(tax = paste0("N_",tax),
tax = as.factor(tax),
rad = as.factor(rad)) %>%
ggplot(aes(x=reorder(tax, age_promedio), y=age_promedio, fill=rad))+
geom_bar(stat="identity")+
geom_text(aes(label=round(age_promedio,2)), color ="white",
hjust = 1.1)+
scale_y_discrete(expand = c(0,0,0,10))+
scale_fill_manual(values = colorPal)+
labs(x="Nivel de Tax", y="Edad promedio", fill="Grupo",
title = "Edad promedio por nivel de Tax",
subtitle = "Datos obtenidos de Boston (1969)")+
coord_flip()+
theme_minimal()+
theme(legend.position = "bottom",
axis.ticks.length.y = unit(0, "cm"),
legend.key.height = unit(0.2,"cm"),
legend.key.width = unit(1.5, "cm"),
title = element_text(face = 2))+
facet_grid(~rad)
# Pipeline
Boston %>%
filter(rad %in% 1:3 & zn != 0) %>%
group_by(tax) %>%
summarise(age_promedio = mean(age),
rad = unique(rad)) %>%
mutate(tax = paste0("N_",tax),
tax = as.factor(tax),
rad = as.factor(rad)) %>%
ggplot(aes(x=reorder(tax, age_promedio), y=age_promedio, fill=rad))+
geom_bar(stat="identity")+
geom_text(aes(label=round(age_promedio,2)), color ="white",
hjust = 1.1)+
scale_y_discrete(expand = c(0,0,0,10))+
scale_fill_manual(values = colorPal)+
labs(x="Nivel de Tax", y="Edad promedio", fill="Grupo",
title = "Edad promedio por nivel de Tax",
subtitle = "Datos obtenidos de Boston (1969)")+
coord_flip()+
theme_minimal()+
theme(legend.position = "bottom",
axis.ticks.length.y = unit(0, "cm"),
legend.key.height = unit(0.2,"cm"),
legend.key.width = unit(1.5, "cm"),
title = element_text(face = 2))+
facet_grid(rad~.)
# Pipeline
Boston %>%
filter(rad %in% 1:3 & zn != 0) %>%
group_by(tax) %>%
summarise(age_promedio = mean(age),
rad = unique(rad)) %>%
mutate(tax = paste0("N_",tax),
tax = as.factor(tax),
rad = as.factor(rad)) %>%
ggplot(aes(x=reorder(tax, age_promedio), y=age_promedio, fill=rad))+
geom_bar(stat="identity")+
geom_text(aes(label=round(age_promedio,2)), color ="white",
hjust = 1.1)+
scale_y_discrete(expand = c(0,0,0,10))+
scale_fill_manual(values = colorPal)+
labs(x="Nivel de Tax", y="Edad promedio", fill="Grupo",
title = "Edad promedio por nivel de Tax",
subtitle = "Datos obtenidos de Boston (1969)")+
coord_flip()+
theme_minimal()+
theme(legend.position = "bottom",
axis.ticks.length.y = unit(0, "cm"),
legend.key.height = unit(0.2,"cm"),
legend.key.width = unit(1.5, "cm"),
title = element_text(face = 2))+
facet_grid(.~rad)
# Pipeline
Boston %>%
filter(rad %in% 1:3 & zn != 0) %>%
group_by(tax) %>%
summarise(age_promedio = mean(age),
rad = unique(rad)) %>%
mutate(tax = paste0("N_",tax),
tax = as.factor(tax),
rad = as.factor(rad)) %>%
ggplot(aes(x=reorder(tax, age_promedio), y=age_promedio, fill=rad))+
geom_bar(stat="identity")+
geom_text(aes(label=round(age_promedio,2)), color ="white",
hjust = 1.1)+
scale_y_discrete(expand = c(0,0,0,10))+
scale_fill_manual(values = colorPal)+
labs(x="Nivel de Tax", y="Edad promedio", fill="Grupo",
title = "Edad promedio por nivel de Tax",
subtitle = "Datos obtenidos de Boston (1969)")+
coord_flip()+
theme_minimal()+
theme(legend.position = "bottom",
axis.ticks.length.y = unit(0, "cm"),
legend.key.height = unit(0.2,"cm"),
legend.key.width = unit(1.5, "cm"),
title = element_text(face = 2))+
facet_grid(.~rad, scales = "free.y")
# Pipeline
Boston %>%
filter(rad %in% 1:3 & zn != 0) %>%
group_by(tax) %>%
summarise(age_promedio = mean(age),
rad = unique(rad)) %>%
mutate(tax = paste0("N_",tax),
tax = as.factor(tax),
rad = as.factor(rad)) %>%
ggplot(aes(x=reorder(tax, age_promedio), y=age_promedio, fill=rad))+
geom_bar(stat="identity")+
geom_text(aes(label=round(age_promedio,2)), color ="white",
hjust = 1.1)+
scale_y_discrete(expand = c(0,0,0,10))+
scale_fill_manual(values = colorPal)+
labs(x="Nivel de Tax", y="Edad promedio", fill="Grupo",
title = "Edad promedio por nivel de Tax",
subtitle = "Datos obtenidos de Boston (1969)")+
coord_flip()+
theme_minimal()+
theme(legend.position = "bottom",
axis.ticks.length.y = unit(0, "cm"),
legend.key.height = unit(0.2,"cm"),
legend.key.width = unit(1.5, "cm"),
title = element_text(face = 2))+
facet_grid(.~rad, scales = "free_y")
# Pipeline
Boston %>%
filter(rad %in% 1:3 & zn != 0) %>%
group_by(tax) %>%
summarise(age_promedio = mean(age),
rad = unique(rad)) %>%
mutate(tax = paste0("N_",tax),
tax = as.factor(tax),
rad = as.factor(rad)) %>%
ggplot(aes(x=reorder(tax, age_promedio), y=age_promedio, fill=rad))+
geom_bar(stat="identity")+
geom_text(aes(label=round(age_promedio,2)), color ="white",
hjust = 1.1)+
scale_y_discrete(expand = c(0,0,0,10))+
scale_fill_manual(values = colorPal)+
labs(x="Nivel de Tax", y="Edad promedio", fill="Grupo",
title = "Edad promedio por nivel de Tax",
subtitle = "Datos obtenidos de Boston (1969)")+
coord_flip()+
theme_minimal()+
theme(legend.position = "bottom",
axis.ticks.length.y = unit(0, "cm"),
legend.key.height = unit(0.2,"cm"),
legend.key.width = unit(1.5, "cm"),
title = element_text(face = 2))+
facet_grid(.~rad, scales = "free_x")
# Pipeline
Boston %>%
filter(rad %in% 1:3 & zn != 0) %>%
group_by(tax) %>%
summarise(age_promedio = mean(age),
rad = unique(rad)) %>%
mutate(tax = paste0("N_",tax),
tax = as.factor(tax),
rad = as.factor(rad)) %>%
ggplot(aes(x=reorder(tax, age_promedio), y=age_promedio, fill=rad))+
geom_bar(stat="identity")+
geom_text(aes(label=round(age_promedio,2)), color ="white",
hjust = 1.1)+
scale_y_discrete(expand = c(0,0,0,10))+
scale_fill_manual(values = colorPal)+
labs(x="Nivel de Tax", y="Edad promedio", fill="Grupo",
title = "Edad promedio por nivel de Tax",
subtitle = "Datos obtenidos de Boston (1969)")+
coord_flip()+
theme_minimal()+
theme(legend.position = "bottom",
axis.ticks.length.y = unit(0, "cm"),
legend.key.height = unit(0.2,"cm"),
legend.key.width = unit(1.5, "cm"),
title = element_text(face = 2))+
facet_grid(.~rad, scales = "free")
# Pipeline
Boston %>%
filter(rad %in% 1:3 & zn != 0) %>%
group_by(tax) %>%
summarise(age_promedio = mean(age),
rad = unique(rad)) %>%
mutate(tax = paste0("N_",tax),
tax = as.factor(tax),
rad = as.factor(rad)) %>%
ggplot(aes(x=reorder(tax, age_promedio), y=age_promedio, fill=rad))+
geom_bar(stat="identity")+
geom_text(aes(label=round(age_promedio,2)), color ="white",
hjust = 1.1)+
scale_y_discrete(expand = c(0,0,0,10))+
scale_fill_manual(values = colorPal)+
labs(x="Nivel de Tax", y="Edad promedio", fill="Grupo",
title = "Edad promedio por nivel de Tax",
subtitle = "Datos obtenidos de Boston (1969)")+
coord_flip()+
theme_minimal()+
theme(legend.position = "bottom",
axis.ticks.length.y = unit(0, "cm"),
legend.key.height = unit(0.2,"cm"),
legend.key.width = unit(1.5, "cm"),
title = element_text(face = 2))+
facet_grid(.~rad, scales = "")
# Pipeline
Boston %>%
filter(rad %in% 1:3 & zn != 0) %>%
group_by(tax) %>%
summarise(age_promedio = mean(age),
rad = unique(rad)) %>%
mutate(tax = paste0("N_",tax),
tax = as.factor(tax),
rad = as.factor(rad)) %>%
ggplot(aes(x=reorder(tax, age_promedio), y=age_promedio, fill=rad))+
geom_bar(stat="identity")+
geom_text(aes(label=round(age_promedio,2)), color ="white",
hjust = 1.1)+
scale_y_discrete(expand = c(0,0,0,10))+
scale_fill_manual(values = colorPal)+
labs(x="Nivel de Tax", y="Edad promedio", fill="Grupo",
title = "Edad promedio por nivel de Tax",
subtitle = "Datos obtenidos de Boston (1969)")+
coord_flip()+
theme_minimal()+
theme(legend.position = "bottom",
axis.ticks.length.y = unit(0, "cm"),
legend.key.height = unit(0.2,"cm"),
legend.key.width = unit(1.5, "cm"),
title = element_text(face = 2))
bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("index.Rmd", "bookdown::gitbook")
View(WHO)
WHO %>%
filter(Category == "Category B" & Level == "Level 1") %>%
head(10)
WHO %>%
filter(Category %in% c("Category A", "Category B") & Level == "Level 1") %>%
head(10)
WHO %>%
filter(Category %in% c("Category A", "Category B") & Level == "Level 1") %>%
rnow()
WHO %>%
filter(Category %in% c("Category A", "Category B") & Level == "Level 1") %>%
nrow()
WHO %>%
filter(Category == "Category B" & Level == "Level 1") %>%
nrow()
WHO %>%
filter(Category %in% c("Category A", "Category B") & Level == "Level 1") %>%
nrow()
WHO %>%
filter(Category %in% c("Category A", "Category B") & Level == "Level 1" & Life_exp > 60) %>%
nrow()
WHO %>%
filter(Life_exp > 60 & Category %in% c("Category A", "Category B") & Level == "Level 1") %>%
nrow()
WHO %>%
filter(Life_exp > 60) %>%
filter(Category %in% c("Category A", "Category B") & Level == "Level 1") %>%
nrow()
WHO %>%
filter(Category %in% c("Category A", "Category B")) %>%
filter(Life_exp > 60 & Level == "Level 1") %>%
nrow()
& Level == "Level 1" & Life_exp > 60) %>%
nrow()
WHO %>%
filter(Category %in% c("Category A", "Category B")) %>%
filter(Level == "Level 1" & Life_exp > 60) %>%
nrow()
WHO %>%
filter(Category %in% c("Category A", "Category B")) %>%
filter(Level == "Level 1" & Life_exp > 50) %>%
nrow()
WHO %>%
filter(Category %in% c("Category A", "Category B") & Level == "Level 1" & Life_exp > 50) %>%
nrow()
WHO %>%
filter(Category %in% c("Category A", "Category B")) %>%
filter(Level == "Level 1" & Life_exp > 80) %>%
nrow()
WHO %>%
filter(Category %in% c("Category A", "Category B") & Level == "Level 1" & Life_exp > 80) %>%
nrow()
WHO %>%
filter(Category %in% c("Category A", "Category B")) %>%
filter(Level == "Level 1" & Life_exp > 80) %>%
filter(Year %in% 2013:2015) %>%
nrow()
WHO %>%
filter(Category %in% c("Category A", "Category B")) %>%
filter(Level == "Level 1" & Life_exp > 80) %>%
filter(Year %in% 2013:2015) %>%
nrow()
bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("index.Rmd", "bookdown::gitbook")
# Por posición
names()
# Por posición
names(WHO)
WHO %>%
select(1,2,17,18)
WHO %>%
select(1,2,17,18) %>%
head()
# Por nombre
WHO %>%
select(Country, Year, Polio, Diph) %>%
head()
WHO %>%
select(contains("_"))
WHO %>%
select(contains("_")) %>%
head()
num_range("DataScience", 1:5)
rep("DataScience", 1:5)
paste("DataScience", 1:5)
paste0("DataScience", 1:5)
# Resultado de paste0() idéntico a lo que se obtendría con num_range()
paste0("Status", 1:5)
WHO %>%
select(num_range("Status", 1:2)) %>%
head()
WHO <- openxlsx::read.xlsx("bases/WHO_tidy.xlsx")
WHO %>%
select(num_range("Status", 1:2)) %>%
head()
WHO %>%
select(paste0("Status", 1:2)) %>%
head()
# Con num_range()
WHO %>%
select(starts_with("S")) %>%
head()
# Con num_range()
WHO %>%
select(starts_with("o")) %>%
head()
# Con num_range()
WHO %>%
select(ends_with("o")) %>%
head()
# Con num_range()
WHO %>%
select(starts_with("s")) %>%
head()
.libPaths()
.libPaths() <- c("D:/R", .libPaths())
.libPaths() <- c("C:/RR", .libPaths())
.libPaths(c("C:/RR", .libPaths())
)
.libPaths()
bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("index.Rmd", "bookdown::gitbook")
# Por posición
WHO %>%
select(1,2,17,18) %>%
head()
library(tidyverse)
bookdown::render_book("index.Rmd", "bookdown::gitbook")
# Por nombre
WHO %>%
select(Country, Year, Polio, Diph) %>%
head()
library(tidyverse)
# Por posición
WHO %>%
select(1,2,17,18) %>%
head()
# Por nombre
WHO %>%
select(Country, Year, Polio, Diph) %>%
head()
bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("index.Rmd", "bookdown::gitbook")
WHO %>%
group_by(Year)
bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("index.Rmd", "bookdown::gitbook")
bookdown::render_book("index.Rmd", "bookdown::gitbook")
WHO %>%
count(Year)
WHO %>%
count(Year, Country)
WHO %>%
count(Country, Year)
WHO %>%
count(Year)
View(WHO)
WHO %>%
filter(Life_exp >= 80) %>%
count(Year)
WHO %>%
group_by(Year) %>%
summarise(Promed = mean(Life_exp),
Pol = median(Polio),
GDP_prom = mean(GDP),
GDP_sd = sd(GDP))
WHO %>%
group_by(Year) %>%
summarise(Promed = mean(Life_exp),
Pol = median(Polio),
GDP_prom = mean(GDP),
GDP_sd = sd(GDP), summarise)
WHO %>%
group_by(Year) %>%
summarise(Promed = mean(Life_exp),
Pol = median(Polio),
GDP_prom = mean(GDP),
GDP_sd = sd(GDP), na.rm = TRUE)
WHO %>%
group_by(Year) %>%
summarise(Promed = mean(Life_exp, na.rm = TRUE),
Pol = median(Polio, na.rm = TRUE),
GDP_prom = mean(GDP, na.rm = TRUE),
GDP_sd = sd(GDP, na.rm = TRUE))
WHO %>%
group_by(Year) %>%
summarise(Promed = mean(Life_exp),
Pol = median(Polio),
GDP_prom = mean(GDP),
GDP_sd = sd(GDP))
# Especificando el argumento na.rm = TRUE
# para obviar los NA de cada columna
WHO %>%
group_by(Year) %>%
summarise(Promed = mean(Life_exp, na.rm = TRUE),
Pol = median(Polio, na.rm = TRUE),
GDP_prom = mean(GDP, na.rm = TRUE),
GDP_sd = sd(GDP, na.rm = TRUE))
# Especificando el argumento na.rm = TRUE
# para obviar los NA de cada columna
WHO %>%
group_by(Year) %>%
summarise(Promed = mean(Life_exp, na.rm = TRUE),
Pol = median(Polio, na.rm = TRUE),
GDP_prom = mean(GDP, na.rm = TRUE),
GDP_sd = sd(GDP, na.rm = TRUE)) %>%
ungroup()
WHO %>%
group_by(Year) %>%
summarise_at(.vars = vars(Life_exp, Polio, GDP),
.funs = list(mean, median, sd), na.rm=TRUE)
WHO %>%
group_by(Year) %>%
summarise_at(.vars = vars(Life_exp, Polio, GDP),
.funs = lst(mean, median, sd),
na.rm=TRUE)
WHO %>%
group_by(Year) %>%
summarise_each(across(everything()), .funs = lst(mean, median, sd))
WHO %>%
group_by(Year) %>%
across(everything(), .funs = lst(mean, median, sd))
