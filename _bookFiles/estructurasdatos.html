<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Capítulo 3 Estructuras de datos | Introducción a R para Ciencias</title>
<meta name="author" content="Irwing S. Saldaña">
<meta name="description" content="3.1 Clasificación de variables Toda variable cuenta con dos atributos: clase y estructura. Para entender cómo se almacenan los datos en R, se necesita conocerlas a detalle.   FIGURA 2.1: Analogía...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Capítulo 3 Estructuras de datos | Introducción a R para Ciencias">
<meta property="og:type" content="book">
<meta property="og:image" content="/Cover/cover.png">
<meta property="og:description" content="3.1 Clasificación de variables Toda variable cuenta con dos atributos: clase y estructura. Para entender cómo se almacenan los datos en R, se necesita conocerlas a detalle.   FIGURA 2.1: Analogía...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Capítulo 3 Estructuras de datos | Introducción a R para Ciencias">
<meta name="twitter:description" content="3.1 Clasificación de variables Toda variable cuenta con dos atributos: clase y estructura. Para entender cómo se almacenan los datos en R, se necesita conocerlas a detalle.   FIGURA 2.1: Analogía...">
<meta name="twitter:image" content="/Cover/cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link rel="icon" type="image/png" sizes="32x32" href="figs/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="figs/favicon-32x32.png">
<script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-99618359-1', 'auto');
      ga('send', 'pageview');

    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="style/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h2>
        <!--debajo del título-->
        <a href="index.html" title="Autor: Irwing S. Saldaña">Introducción a R para Ciencias</a><br><small class="text-muted">Autor: Irwing S. Saldaña<br>Editorial: IC Press<br>Publicación: 2022-01-26</small>
      </h2>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Mostrar barra de contenidos</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="Buscar">
        <input id="search" class="form-control" type="search" placeholder="Buscar" aria-label="Buscar">
</form>

      <nav aria-label="Table of contents"><h2>Tabla de Capítulos  </h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Bienvenida</a></li>
<li><a class="" href="prefacio.html">Prefacio</a></li>
<li class="book-part">INTRODUCCIÓN A R PARA CIENCIAS</li>
<li><a class="" href="esencialesRRStudio.html"><span class="header-section-number">1</span> Esenciales de R y RStudio</a></li>
<li><a class="" href="rbasico.html"><span class="header-section-number">2</span> Primer contacto con R</a></li>
<li><a class="active" href="estructurasdatos.html"><span class="header-section-number">3</span> Estructuras de datos</a></li>
<li><a class="" href="carga-y-exportaci%C3%B3n-de-datos.html"><span class="header-section-number">4</span> Carga y exportación de datos</a></li>
<li><a class="" href="manejo-de-datos-con-tidyverse.html"><span class="header-section-number">5</span> Manejo de datos con tidyverse</a></li>
<li><a class="" href="programaci%C3%B3n-funcional-e-iteraciones.html"><span class="header-section-number">6</span> Programación Funcional e iteraciones</a></li>
<li><a class="" href="potencialidades-de-r-markdown.html"><span class="header-section-number">7</span> Potencialidades de R Markdown</a></li>
<li class="book-part">GRÁFICOS AVANZADOS CON ggplot2</li>
<li><a class="" href="visualizaci%C3%B3n-avanzada-de-gr%C3%A1ficos.html"><span class="header-section-number">8</span> Visualización avanzada de gráficos</a></li>
<li><a class="" href="componentes-clave-de-un-gr%C3%A1fico-con-ggplot2.html"><span class="header-section-number">9</span> Componentes clave de un gráfico con ggplot2</a></li>
<li><a class="" href="creando-gr%C3%A1ficos.html"><span class="header-section-number">10</span> Creando gráficos</a></li>
<li><a class="" href="adicionando-l%C3%ADneas.html"><span class="header-section-number">11</span> Adicionando Líneas</a></li>
<li><a class="" href="gr%C3%A1ficos-estad%C3%ADsticos-semiautom%C3%A1ticos.html"><span class="header-section-number">12</span> Gráficos estadísticos semiautomáticos</a></li>
<li><a class="" href="exportaci%C3%B3n-de-gr%C3%A1ficos.html"><span class="header-section-number">13</span> Exportación de Gráficos</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="estructurasdatos" class="section level1" number="3">
<h1>
<span class="header-section-number">Capítulo 3</span> <strong>Estructuras de datos</strong><a class="anchor" aria-label="anchor" href="#estructurasdatos"><i class="fas fa-link"></i></a>
</h1>
<div id="clasificación-de-variables" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> <strong>Clasificación de variables</strong><a class="anchor" aria-label="anchor" href="#clasificaci%C3%B3n-de-variables"><i class="fas fa-link"></i></a>
</h2>
<p>Toda variable cuenta con dos atributos: clase y estructura. Para entender cómo se almacenan los datos en R, se necesita conocerlas a detalle.</p>

<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-1"></span>
<img src="figs/fotografias/gatobox.jpg" alt="Analogía del gato en la caja para entender a las variables. Aquí, el gato es el contenido; la caja, la estructura. Esta “variable” puede ser de la clase “contenedora de gatos” y estructura “cartón”. Así mismo, habrán variables contenedoras de números, de caracteres, de valores lógicos, y estos estarán ordenados de diferente manera." width="100%"><p class="caption">
FIGURA 2.1: Analogía del gato en la caja para entender a las variables. Aquí, el gato es el contenido; la caja, la estructura. Esta “variable” puede ser de la clase “contenedora de gatos” y estructura “cartón”. Así mismo, habrán variables contenedoras de números, de caracteres, de valores lógicos, y estos estarán ordenados de diferente manera.
</p>
</div>
<p><br></p>
<div id="clases-atómicas" class="section level3" number="3.1.1">
<h3>
<span class="header-section-number">3.1.1</span> <strong>Clases atómicas</strong><a class="anchor" aria-label="anchor" href="#clases-at%C3%B3micas"><i class="fas fa-link"></i></a>
</h3>
<p>Según su contenido, en R existen <strong>seis clases básicas (o atómicas) de variables</strong>:</p>
<ul>
<li>Clase <strong>lógica:</strong> identificado con el nombre <code>logical</code>
</li>
<li>Clase <strong>caracter o texto:</strong> identificado con el nombre <code>character</code>
</li>
<li>Clase <strong>número con decimales:</strong> conocidos como <em>doubles</em>, identificado con el nombre <code>numeric</code>
</li>
<li>Clase <strong>número entero:</strong> identificado con el nombre <code>integer</code>
</li>
<li>Clase <strong>número complejo:</strong> identificado con el nombre <code>complex</code>
</li>
<li>Clase <strong>crudo o en bits:</strong> identificado con el nombre <code>raw</code>
</li>
</ul>
<p>De estos, los últimos tres no serán utilizando a lo largo de este libro. Quizá surja la pregunta de por qué no usar números enteros. En realidad una variable del tipo <code>numeric</code> ya incluye enteros y con decimales (es decir, todos los números reales). Para efectos de una gran cantidad de funciones estadísticas, en R no es relevante brindarle números enteros como <code>integer</code>, o diferenciarlos de <code>numeric</code>.</p>
</div>
<div id="estructuras-de-datos" class="section level3" number="3.1.2">
<h3>
<span class="header-section-number">3.1.2</span> <strong>Estructuras de datos</strong><a class="anchor" aria-label="anchor" href="#estructuras-de-datos"><i class="fas fa-link"></i></a>
</h3>
<p>Según su estructura, las variables pueden tener una forma de almacenamiento con diferente dimensionalidad.</p>
<ul>
<li>La estructura más básica de R es el <strong>vector</strong>, con una sola dimensión.</li>
<li>El vector se convierte en un <strong>factor</strong> si es que contiene información categorizada, y sigue teniendo una dimensión.</li>
<li>Si vectores se colocan verticalmente, y se apilan lado a lado, se convierten en una estructura de dos dimensiones. Dependiendo de sus características estas pueden ser:
<strong>matrices</strong>, <strong>data frames</strong> o <strong>tibbles</strong>.</li>
<li>Se puede considerar a los <strong>arrays</strong> como arreglos multidimensionales de vectores.</li>
<li>Finalmente, las <em>listas</em> son estructuras de datos básicas. No se consideran dimensionales dado que almacena a otras estructuras de datos secuencialmente. Una lista puede albergar vectores, factores, matrices, data frames, tibbles, arrays, incluso otras listas.</li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-2"></span>
<img src="figs/elaboradas/Estructuras%20de%20datos%20en%20R.png" alt="Estructuras informáticas para almacenar de datos en el lenguaje R." width="100%"><p class="caption">
FIGURA 1.1: Estructuras informáticas para almacenar de datos en el lenguaje R.
</p>
</div>
</div>
</div>
<div id="vectores" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> <strong>Vectores</strong><a class="anchor" aria-label="anchor" href="#vectores"><i class="fas fa-link"></i></a>
</h2>
<p>R es un lenguaje basado en vectores. La estructura de almacenamiento de datos más básica es el vector. Un vector contiene elementos, que pueden ser números, textos, valores lógicos, y de cualquier clase atómica. No obstante, solamente puede almacenar elementos de una única clase atómica a la vez. Solo números, solo texto, solo valores lógicos.</p>
<p>Para crear un vector, se utiliza la función <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> donde especifíco los elementos directamente:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Vector numérico</span>
<span class="va">numeros</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>
<span class="va">numeros</span>
<span class="co">## [1] 1 2 3 4 5 6</span></code></pre></div>
<p>Un operador de gran utilidad es <code>:</code> que permite crear rangos de números enteros.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>
<span class="co">## [1] 1 2 3 4 5 6</span></code></pre></div>
<p>Además de <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>, existe la función <code><a href="https://rdrr.io/r/base/vector.html">vector()</a></code> para crear vectores vacíos de una longitud y clase atómica determinado.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Vector lógico de longitud (length) 10</span>
<span class="va">vLog</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span><span class="st">"logical"</span>, length<span class="op">=</span><span class="fl">10</span><span class="op">)</span>
<span class="va">vLog</span>
<span class="co">##  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span>

<span class="co"># Vector de caracteres de longitud (length) 15</span>
<span class="va">vCha</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span><span class="st">"character"</span>, length<span class="op">=</span><span class="fl">15</span><span class="op">)</span>
<span class="va">vCha</span>
<span class="co">##  [1] "" "" "" "" "" "" "" "" "" "" "" "" "" "" ""</span>

<span class="co"># Vector de números de longitud (length) 20</span>
<span class="va">vNum</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span><span class="st">"numeric"</span>, length<span class="op">=</span><span class="fl">20</span><span class="op">)</span>
<span class="va">vNum</span>
<span class="co">##  [1] 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0</span></code></pre></div>
<p>La razón para usar <code><a href="https://rdrr.io/r/base/vector.html">vector()</a></code> es para crear un <em>contenedo</em> vacío de una longitud determinada, el cual podremos ir llenando con los resultados de un loop. Nos adelantaremos un poco con el código un tanto más avanzado, pero verás el uso de esta función.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">vNum</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html">vector</a></span><span class="op">(</span><span class="st">"numeric"</span>, length<span class="op">=</span><span class="fl">6</span><span class="op">)</span>
<span class="va">vNum</span>
<span class="co">## [1] 0 0 0 0 0 0</span>

<span class="co"># Loop donde a una secuencia de números del 1 al 6</span>
<span class="co"># se le multiplica a cada uno por 100</span>
<span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span><span class="op">{</span>
  <span class="va">vNum</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">i</span> <span class="op">*</span> <span class="fl">100</span>
<span class="op">}</span>

<span class="co"># Vector ya rellenado por el loop</span>
<span class="va">vNum</span>
<span class="co">## [1] 100 200 300 400 500 600</span></code></pre></div>
<p>Otras formas especiales de crear vectores implica el uso de <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> para crear secuencias numéricas, o <code><a href="https://rdrr.io/r/base/rep.html">rep()</a></code> para repetir de algún valor una determinada cantidad de veces.</p>
<p>Para crear una secuencia del 10 al 100 cada 5 elementos, se usa el argument <code>by =</code> dentro de <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code></p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">100</span>, by<span class="op">=</span><span class="fl">5</span><span class="op">)</span>
<span class="co">##  [1]  10  15  20  25  30  35  40  45  50  55  60  65  70  75  80  85  90  95 100</span></code></pre></div>
<p>Para crear una secuencia del 36 números entre 10 y 100, se usa el argument <code>length =</code> dentro de <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code></p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">100</span>, length<span class="op">=</span><span class="fl">36</span><span class="op">)</span>
<span class="co">##  [1]  10.00  12.57  15.14  17.71  20.29  22.86  25.43  28.00  30.57  33.14  35.71</span>
<span class="co">## [12]  38.29  40.86  43.43  46.00  48.57  51.14  53.71  56.29  58.86  61.43  64.00</span>
<span class="co">## [23]  66.57  69.14  71.71  74.29  76.86  79.43  82.00  84.57  87.14  89.71  92.29</span>
<span class="co">## [34]  94.86  97.43 100.00</span></code></pre></div>
<p>Las repeticiones implica definir dos argumentos: lo que se repetirá, y la cantidad de veces. Para repetir el carácter <code>América</code> 10 veces, se usa:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"América"</span>, <span class="fl">10</span><span class="op">)</span>
<span class="co">##  [1] "América" "América" "América" "América" "América" "América" "América" "América"</span>
<span class="co">##  [9] "América" "América"</span></code></pre></div>
</div>
<div id="factores" class="section level2" number="3.3">
<h2>
<span class="header-section-number">3.3</span> <strong>Factores</strong><a class="anchor" aria-label="anchor" href="#factores"><i class="fas fa-link"></i></a>
</h2>
<p>Los factores son tipos especiales de vectores, donde R evalúa los valores únicos de la secuencia y los define como categorías. Son muy útiles en programación dado que nos permiten graficar, por ejemplo, con un color diferenciado cada nivel de una variable categorica. Imagina que se requiere hacer un gráfico de dispersión de puntos para ver la relación entre dos variables, pero permitiendo que el color de los puntos refleje el grupo al que pertenece cada observación:</p>

<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:unnamed-chunk-10"></span>
<img src="03-estructuras-datos_files/figure-html/unnamed-chunk-10-1.png" alt="Ejemplo de uso del conjunto de datos Grupos para colorear los puntos del gráfico de enfrentamiento de las variables Pétalo y Sépalo." width="100%"><p class="caption">
FIGURA 1.8: Ejemplo de uso del conjunto de datos <em>Grupos</em> para colorear los puntos del gráfico de enfrentamiento de las variables <em>Pétalo</em> y <em>Sépalo</em>.
</p>
</div>
<p>Para crear un factor se utiliza la función <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code>, y un vector dentro de ella. La función evaluará los valores únicos del vector y definirá los niveles del factor:</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Crear un vector de texto cualquiera </span>
<span class="va">vectorC</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"A"</span>,<span class="st">"A"</span>,<span class="st">"A"</span>,<span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"A"</span>,<span class="st">"C"</span>,<span class="st">"C"</span>,<span class="st">"B"</span><span class="op">)</span>

<span class="co"># Crear un vector de texto cualquiera</span>
<span class="va">vectorN</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>

<span class="co"># Crear factores en base a los vectores</span>
<span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">vectorC</span><span class="op">)</span>
<span class="co">##  [1] A B A A A A B A C C B</span>
<span class="co">## Levels: A B C</span>
<span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">vectorN</span><span class="op">)</span>
<span class="co">##  [1] 1 1 2 1 2 2 1 1 2 1 2 1 2 2 2 1</span>
<span class="co">## Levels: 1 2</span></code></pre></div>
<p>Cada factor muestra sus niveles (Levels) al final de la secuencia. Se puede conocer cuales son los niveles de un factor guardado en el ambiente, utilizando la función <code><a href="https://rdrr.io/r/base/levels.html">levels()</a></code>:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Guardar el factor</span>
<span class="va">F1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">vectorC</span><span class="op">)</span>

<span class="co"># Revisar los niveles del factor</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">F1</span><span class="op">)</span>
<span class="co">## [1] "A" "B" "C"</span></code></pre></div>
<p>El orden de los niveles es importante. Por defecto se ordenan los niveles de menor a mayor (si son números), o de la A a la Z (sin son texto). Para una regresión, para un gráfico, el orden afecta los resultados. En una regresión lineal, el primer nivel de un factor puede ser considerado como <em>nivel base</em>, y las interpretaciones se harán como factores de aumento o disminución de los otros niveles respecto al nivel base. En un gráfico, el orden de los colores, o las etiquetas de un eje, seguirán este orden.</p>
<p>Para cambiar el orden, las alternativas son variadas. Si solo se desea definir un nivel base, y el orden de los demás niveles no es importante, se usa <code><a href="https://rdrr.io/r/stats/relevel.html">relevel()</a></code> con el segundo argumento especificando el nivel que será el nuevo nivel base.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Especificando el primer nivel como "C" </span>
<span class="va">F1_cambiado</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/relevel.html">relevel</a></span><span class="op">(</span><span class="va">F1</span>, <span class="st">"C"</span><span class="op">)</span>
<span class="va">F1_cambiado</span>
<span class="co">##  [1] A B A A A A B A C C B</span>
<span class="co">## Levels: C A B</span></code></pre></div>
<p>Si se necesita especificar un orden definido manualmente para todos los niveles, es mejor definirlo al momento de crear el factor, usando el argumento <code>levels=</code>:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Crear un factor con niveles ordenados manualmente</span>
<span class="va">F2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">vectorC</span>, levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"B"</span>,<span class="st">"C"</span>,<span class="st">"A"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Revisar los niveles de F2</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">F2</span><span class="op">)</span>
<span class="co">## [1] "B" "C" "A"</span></code></pre></div>
<p>Por otro lado, si hay necesidad de cambiar el nombre de algún (o algunos) nivel(es), se puede usar un vector con los cambios deseados como contenido del argumento <code>labels=</code>. El orden de las etiquetas cambiadas debe seguir el mismo orden original de los niveles:</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Crear un factor con cambie de etiqueta</span>
<span class="va">F3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">F1</span>, labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Absoluto"</span>, <span class="st">"B"</span>, <span class="st">"Cambio"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Revisar los niveles de F3</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">F3</span><span class="op">)</span>
<span class="co">## [1] "Absoluto" "B"        "Cambio"</span>

<span class="co"># Revisando el contenido original (sin cambios) en F1</span>
<span class="va">F1</span>
<span class="co">##  [1] A B A A A A B A C C B</span>
<span class="co">## Levels: A B C</span>

<span class="co"># Revisar el contenido de F3</span>
<span class="va">F3</span>
<span class="co">##  [1] Absoluto B        Absoluto Absoluto Absoluto Absoluto B        Absoluto</span>
<span class="co">##  [9] Cambio   Cambio   B       </span>
<span class="co">## Levels: Absoluto B Cambio</span></code></pre></div>
<p>Como fue evidente, al crear un factor se puede usar como insumo un vector, como <code>vectorN</code>, u otro factor previamente creado, como <code>F1</code>.</p>
</div>
<div id="matrices" class="section level2" number="3.4">
<h2>
<span class="header-section-number">3.4</span> <strong>Matrices</strong><a class="anchor" aria-label="anchor" href="#matrices"><i class="fas fa-link"></i></a>
</h2>
<p>Las matrices son la primera estructura de dos dimensiones aquí presentada. Son útiles cuando se desee aplicar álgebra de matrices. Pero en el día a día, son rudimentarias y limitantes. Sobre esto último, se comporta como un vector: permiten almacenar solamente un tipo de elemento en toda la tabla.</p>
<p>Para crear una matriz, podemos tomar un vector e ir ordenando los elementos de manera vertical u horizontal en una tabla de <span class="math inline">\(n*p\)</span> dimensiones (donde: <span class="math inline">\(n\)</span> es la cantidad de filas y <span class="math inline">\(p\)</span> de columnas), utilizando la función <code><a href="https://rdrr.io/r/base/matrix.html">matrix()</a></code>.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Crear un rango de valores cualquiera</span>
<span class="va">vector1</span><span class="op">&lt;-</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span></code></pre></div>
<p>Al encajar el contenido del vector de longitud <span class="math inline">\(n\)</span> en forma de matriz (dos dimensiones) sin especificar la cantidad de columnas o filas, crea una matriz de una sola columna con <span class="math inline">\(n\)</span> filas.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">vector1</span><span class="op">)</span>
<span class="co">##       [,1]</span>
<span class="co">##  [1,]    1</span>
<span class="co">##  [2,]    2</span>
<span class="co">##  [3,]    3</span>
<span class="co">##  [4,]    4</span>
<span class="co">##  [5,]    5</span>
<span class="co">##  [6,]    6</span>
<span class="co">##  [7,]    7</span>
<span class="co">##  [8,]    8</span>
<span class="co">##  [9,]    9</span>
<span class="co">## [10,]   10</span></code></pre></div>
<p>Para definir la cantidad de columnas y filas se usan los argumentos <code>ncol=</code> y <code>nrow=</code>, respectivamente:</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">vector1</span>, ncol<span class="op">=</span><span class="fl">2</span>, nrow<span class="op">=</span><span class="fl">5</span><span class="op">)</span>
<span class="co">##      [,1] [,2]</span>
<span class="co">## [1,]    1    6</span>
<span class="co">## [2,]    2    7</span>
<span class="co">## [3,]    3    8</span>
<span class="co">## [4,]    4    9</span>
<span class="co">## [5,]    5   10</span></code></pre></div>
<p>Por defecto las columnas se llenan <em>columna por columna</em>. Para cambiar el comportamiento de llenado a <em>fila por fila</em>, se usa:</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="va">vector1</span>, ncol<span class="op">=</span><span class="fl">2</span>, nrow<span class="op">=</span><span class="fl">5</span>, byrow<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="co">##      [,1] [,2]</span>
<span class="co">## [1,]    1    2</span>
<span class="co">## [2,]    3    4</span>
<span class="co">## [3,]    5    6</span>
<span class="co">## [4,]    7    8</span>
<span class="co">## [5,]    9   10</span></code></pre></div>
<p>En este libro no se hace uso extenso de matrices, por lo que no es necesario conocerlas a mayor detalle.</p>
</div>
<div id="data-frames" class="section level2" number="3.5">
<h2>
<span class="header-section-number">3.5</span> <strong>Data Frames</strong><a class="anchor" aria-label="anchor" href="#data-frames"><i class="fas fa-link"></i></a>
</h2>
<p>Esta estructura de datos de dos dimensiones es la más parecida a lo que una hoja de cálculo permite: colocar diferentes tipos de elementos dentro de la tabla, como texto, números, elementos lógicos, entre otros. Al cargar en RStudio una base de datos de un estudio, esta se almacenará como data frame casi siempre (cuando no, podrá ser un tibble o una lista).</p>
<p>Para crear data frames manualmente en R, se utiliza la función <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code>, especificando como elementos el contenido de cada columna.</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">DF</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>Col1 <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, 
                 Col2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Sit1"</span>,<span class="st">"Sit1"</span>,<span class="st">"Sit2"</span>,<span class="st">"Sit2"</span>,<span class="st">"Sit3"</span><span class="op">)</span>,
                 Log <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">T</span>,<span class="cn">T</span>,<span class="cn">F</span>,<span class="cn">F</span>,<span class="cn">T</span><span class="op">)</span>,
                 Fct <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span>,<span class="st">"B"</span>,<span class="st">"A"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

<span class="va">DF</span>
<span class="co">##   Col1 Col2   Log Fct</span>
<span class="co">## 1    1 Sit1  TRUE   A</span>
<span class="co">## 2    2 Sit1  TRUE   B</span>
<span class="co">## 3    3 Sit2 FALSE   C</span>
<span class="co">## 4    4 Sit2 FALSE   B</span>
<span class="co">## 5    5 Sit3  TRUE   A</span></code></pre></div>
<p>Cargar una base de datos de un archivo como data frame en R, dependerá del tipo de archivo</p>
<p>Para cargar un excel, se recomienda usar</p>
</div>
<div id="tibbles" class="section level2" number="3.6">
<h2>
<span class="header-section-number">3.6</span> <strong>Tibbles</strong><a class="anchor" aria-label="anchor" href="#tibbles"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="listas" class="section level2" number="3.7">
<h2>
<span class="header-section-number">3.7</span> <strong>Listas</strong><a class="anchor" aria-label="anchor" href="#listas"><i class="fas fa-link"></i></a>
</h2>
</div>
<div id="indexación-de-variables" class="section level2" number="3.8">
<h2>
<span class="header-section-number">3.8</span> <strong>Indexación de variables</strong><a class="anchor" aria-label="anchor" href="#indexaci%C3%B3n-de-variables"><i class="fas fa-link"></i></a>
</h2>
<div id="indexación-en-variables-1d" class="section level3" number="3.8.1">
<h3>
<span class="header-section-number">3.8.1</span> <strong>Indexación en variables 1D</strong><a class="anchor" aria-label="anchor" href="#indexaci%C3%B3n-en-variables-1d"><i class="fas fa-link"></i></a>
</h3>
</div>
<div id="indexación-en-variables-2d" class="section level3" number="3.8.2">
<h3>
<span class="header-section-number">3.8.2</span> <strong>Indexación en variables 2D</strong><a class="anchor" aria-label="anchor" href="#indexaci%C3%B3n-en-variables-2d"><i class="fas fa-link"></i></a>
</h3>
</div>
<div id="indexación-en-listas" class="section level3" number="3.8.3">
<h3>
<span class="header-section-number">3.8.3</span> <strong>Indexación en listas</strong><a class="anchor" aria-label="anchor" href="#indexaci%C3%B3n-en-listas"><i class="fas fa-link"></i></a>
</h3>
</div>
</div>
<div id="coerción-de-variables" class="section level2" number="3.9">
<h2>
<span class="header-section-number">3.9</span> <strong>Coerción de variables</strong><a class="anchor" aria-label="anchor" href="#coerci%C3%B3n-de-variables"><i class="fas fa-link"></i></a>
</h2>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="rbasico.html"><span class="header-section-number">2</span> Primer contacto con R</a></div>
<div class="next"><a href="carga-y-exportaci%C3%B3n-de-datos.html"><span class="header-section-number">4</span> Carga y exportación de datos</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
            <hr>
<nav id="toc" data-toggle="toc" aria-label="En este capítulo"><h2>En este capítulo</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#estructurasdatos"><span class="header-section-number">3</span> Estructuras de datos</a></li>
<li>
<a class="nav-link" href="#clasificaci%C3%B3n-de-variables"><span class="header-section-number">3.1</span> Clasificación de variables</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#clases-at%C3%B3micas"><span class="header-section-number">3.1.1</span> Clases atómicas</a></li>
<li><a class="nav-link" href="#estructuras-de-datos"><span class="header-section-number">3.1.2</span> Estructuras de datos</a></li>
</ul>
</li>
<li><a class="nav-link" href="#vectores"><span class="header-section-number">3.2</span> Vectores</a></li>
<li><a class="nav-link" href="#factores"><span class="header-section-number">3.3</span> Factores</a></li>
<li><a class="nav-link" href="#matrices"><span class="header-section-number">3.4</span> Matrices</a></li>
<li><a class="nav-link" href="#data-frames"><span class="header-section-number">3.5</span> Data Frames</a></li>
<li><a class="nav-link" href="#tibbles"><span class="header-section-number">3.6</span> Tibbles</a></li>
<li><a class="nav-link" href="#listas"><span class="header-section-number">3.7</span> Listas</a></li>
<li>
<a class="nav-link" href="#indexaci%C3%B3n-de-variables"><span class="header-section-number">3.8</span> Indexación de variables</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#indexaci%C3%B3n-en-variables-1d"><span class="header-section-number">3.8.1</span> Indexación en variables 1D</a></li>
<li><a class="nav-link" href="#indexaci%C3%B3n-en-variables-2d"><span class="header-section-number">3.8.2</span> Indexación en variables 2D</a></li>
<li><a class="nav-link" href="#indexaci%C3%B3n-en-listas"><span class="header-section-number">3.8.3</span> Indexación en listas</a></li>
</ul>
</li>
<li><a class="nav-link" href="#coerci%C3%B3n-de-variables"><span class="header-section-number">3.9</span> Coerción de variables</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Introducción a R para Ciencias</strong>", por Irwing S. Saldaña. <br>Construido por última vez en 2022-01-26.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>Este libro ha sido construido utilizando el paquete de R <a class="text-light" href="https://bookdown.org">bookdown</a>.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
