<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6.11 Creación y transformación de columnas | Introducción a R para Ciencias</title>
  <meta name="description" content="Libro introductorio al uso del lenguaje de programación R, con ejemplos orientados a ciencias" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="6.11 Creación y transformación de columnas | Introducción a R para Ciencias" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://github.com/irwingss/intro_r_ciencias//Cover/cover R.png" />
  <meta property="og:description" content="Libro introductorio al uso del lenguaje de programación R, con ejemplos orientados a ciencias" />
  <meta name="github-repo" content="irwingss/intro_r_ciencias/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6.11 Creación y transformación de columnas | Introducción a R para Ciencias" />
  
  <meta name="twitter:description" content="Libro introductorio al uso del lenguaje de programación R, con ejemplos orientados a ciencias" />
  <meta name="twitter:image" content="https://github.com/irwingss/intro_r_ciencias//Cover/cover R.png" />

<meta name="author" content="Irwing S. Saldaña" />


<meta name="date" content="2022-03-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="figs/favicon.ico" type="image/x-icon" />
<link rel="prev" href="reordenamiento.html"/>
<link rel="next" href="combinar-bases-de-datos.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style/book.css" type="text/css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class='before'><a href="./">Introducción a R para Ciencias</a></li>

<li class="divider"></li>
<li><a href="index.html#bienvenida"><strong>Bienvenida</strong><span></span></a>
<ul>
<li><a href="cómo-usar-el-libro.html#cómo-usar-el-libro">¿Cómo usar el libro?<span></span></a></li>
</ul></li>
<li><a href="prefacio.html#prefacio"><strong>Prefacio</strong><span></span></a>
<ul>
<li><a href="por-qué-aprender-r.html#por-qué-aprender-r">¿Por qué aprender R?<span></span></a></li>
<li><a href="a-quién-está-dirigido-este-libro.html#a-quién-está-dirigido-este-libro">¿A quién está dirigido este libro?<span></span></a></li>
<li><a href="agradecimientos.html#agradecimientos">Agradecimientos<span></span></a></li>
</ul></li>
<li class="part"><span><b>INTRODUCCIÓN A <br>R PARA CIENCIAS </br><span></span></b></span></li>
<li class="chapter" data-level="1" data-path="esencialesRRStudio.html"><a href="esencialesRRStudio.html"><i class="fa fa-check"></i><b>1</b> <strong>Esenciales de R y RStudio</strong><span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="instalación-de-r-y-rstudio.html"><a href="instalación-de-r-y-rstudio.html"><i class="fa fa-check"></i><b>1.1</b> Instalación de R y RStudio<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="configuración-de-rstudio.html"><a href="configuración-de-rstudio.html"><i class="fa fa-check"></i><b>1.2</b> Configuración de RStudio<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="nuevas-características-de-rstudio-versión-2022-actualizado-23-02-22.html"><a href="nuevas-características-de-rstudio-versión-2022-actualizado-23-02-22.html"><i class="fa fa-check"></i><b>1.3</b> Nuevas características de RStudio versión 2022 (Actualizado: 23-02-22)<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="tema-brackinstitute-2022.html"><a href="tema-brackinstitute-2022.html"><i class="fa fa-check"></i><b>1.4</b> Tema BrackInstitute (2022)<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="panelesRStudio.html"><a href="panelesRStudio.html"><i class="fa fa-check"></i><b>1.5</b> Paneles de RStudio<span></span></a></li>
<li class="chapter" data-level="1.6" data-path="librerías-y-repositorios.html"><a href="librerías-y-repositorios.html"><i class="fa fa-check"></i><b>1.6</b> Librerías y Repositorios<span></span></a></li>
<li class="chapter" data-level="1.7" data-path="actualización-de-librerías.html"><a href="actualización-de-librerías.html"><i class="fa fa-check"></i><b>1.7</b> Actualización de librerías<span></span></a></li>
<li class="chapter" data-level="1.8" data-path="tipos-de-documentos-en-rstudio.html"><a href="tipos-de-documentos-en-rstudio.html"><i class="fa fa-check"></i><b>1.8</b> Tipos de documentos en RStudio<span></span></a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="tipos-de-documentos-en-rstudio.html"><a href="tipos-de-documentos-en-rstudio.html#r-script-.r"><i class="fa fa-check"></i><b>1.8.1</b> R Script (.R)<span></span></a></li>
<li class="chapter" data-level="1.8.2" data-path="tipos-de-documentos-en-rstudio.html"><a href="tipos-de-documentos-en-rstudio.html#r-markdown-.rmd"><i class="fa fa-check"></i><b>1.8.2</b> R Markdown (.Rmd)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="proyectos-de-rstudio.html"><a href="proyectos-de-rstudio.html"><i class="fa fa-check"></i><b>1.9</b> Proyectos de RStudio<span></span></a></li>
<li class="chapter" data-level="1.10" data-path="pedir-ayuda.html"><a href="pedir-ayuda.html"><i class="fa fa-check"></i><b>1.10</b> Pedir ayuda<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rbasico.html"><a href="rbasico.html"><i class="fa fa-check"></i><b>2</b> <strong>Primer contacto con R</strong><span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="ejecutar-código.html"><a href="ejecutar-código.html"><i class="fa fa-check"></i><b>2.1</b> Ejecutar código<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="r-como-calculadora.html"><a href="r-como-calculadora.html"><i class="fa fa-check"></i><b>2.2</b> R como calculadora<span></span></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="r-como-calculadora.html"><a href="r-como-calculadora.html#funciones-matemáticas"><i class="fa fa-check"></i><b>2.2.1</b> Funciones matemáticas<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="operadores-lógicos-y-relacionales.html"><a href="operadores-lógicos-y-relacionales.html"><i class="fa fa-check"></i><b>2.3</b> Operadores lógicos y relacionales<span></span></a></li>
<li class="chapter" data-level="2.4" data-path="comentar-el-código.html"><a href="comentar-el-código.html"><i class="fa fa-check"></i><b>2.4</b> Comentar el código<span></span></a></li>
<li class="chapter" data-level="2.5" data-path="creación-de-variables.html"><a href="creación-de-variables.html"><i class="fa fa-check"></i><b>2.5</b> Creación de variables<span></span></a></li>
<li class="chapter" data-level="2.6" data-path="funciones.html"><a href="funciones.html"><i class="fa fa-check"></i><b>2.6</b> Funciones<span></span></a></li>
<li class="chapter" data-level="2.7" data-path="funciones-básica-útiles.html"><a href="funciones-básica-útiles.html"><i class="fa fa-check"></i><b>2.7</b> Funciones básica útiles<span></span></a></li>
<li class="chapter" data-level="2.8" data-path="ejercicios-del-capítulo.html"><a href="ejercicios-del-capítulo.html"><i class="fa fa-check"></i><b>2.8</b> Ejercicios del capítulo<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estructurasdatos.html"><a href="estructurasdatos.html"><i class="fa fa-check"></i><b>3</b> <strong>Estructuras de datos</strong><span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="clasificación-de-variables.html"><a href="clasificación-de-variables.html"><i class="fa fa-check"></i><b>3.1</b> Clasificación de variables<span></span></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="clasificación-de-variables.html"><a href="clasificación-de-variables.html#clases-atómicas"><i class="fa fa-check"></i><b>3.1.1</b> Clases atómicas<span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="clasificación-de-variables.html"><a href="clasificación-de-variables.html#estructuras-de-datos"><i class="fa fa-check"></i><b>3.1.2</b> Estructuras de datos<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="vectores.html"><a href="vectores.html"><i class="fa fa-check"></i><b>3.2</b> Vectores<span></span></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="vectores.html"><a href="vectores.html#crear-un-vector"><i class="fa fa-check"></i><b>3.2.1</b> Crear un vector<span></span></a></li>
<li class="chapter" data-level="3.2.2" data-path="vectores.html"><a href="vectores.html#vectores-de-secuencias-y-repeticiones"><i class="fa fa-check"></i><b>3.2.2</b> Vectores de secuencias y repeticiones<span></span></a></li>
<li class="chapter" data-level="3.2.3" data-path="vectores.html"><a href="vectores.html#funciones-útiles-para-vectores"><i class="fa fa-check"></i><b>3.2.3</b> Funciones útiles para vectores<span></span></a></li>
<li class="chapter" data-level="3.2.4" data-path="vectores.html"><a href="vectores.html#operaciones-numéricas-con-vectores"><i class="fa fa-check"></i><b>3.2.4</b> Operaciones numéricas con vectores<span></span></a></li>
<li class="chapter" data-level="3.2.5" data-path="vectores.html"><a href="vectores.html#valores-perdidos-en-vectores"><i class="fa fa-check"></i><b>3.2.5</b> Valores perdidos en vectores<span></span></a></li>
<li class="chapter" data-level="3.2.6" data-path="vectores.html"><a href="vectores.html#indexación-de-vectores"><i class="fa fa-check"></i><b>3.2.6</b> Indexación de vectores<span></span></a></li>
<li class="chapter" data-level="3.2.7" data-path="vectores.html"><a href="vectores.html#muestreo-de-vectores"><i class="fa fa-check"></i><b>3.2.7</b> Muestreo de vectores<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="factores.html"><a href="factores.html"><i class="fa fa-check"></i><b>3.3</b> Factores<span></span></a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="factores.html"><a href="factores.html#crear-un-factor"><i class="fa fa-check"></i><b>3.3.1</b> Crear un factor<span></span></a></li>
<li class="chapter" data-level="3.3.2" data-path="factores.html"><a href="factores.html#niveles-de-un-factor"><i class="fa fa-check"></i><b>3.3.2</b> Niveles de un factor<span></span></a></li>
<li class="chapter" data-level="3.3.3" data-path="factores.html"><a href="factores.html#reordenar-los-niveles"><i class="fa fa-check"></i><b>3.3.3</b> Reordenar los niveles<span></span></a></li>
<li class="chapter" data-level="3.3.4" data-path="factores.html"><a href="factores.html#etiquetas-de-un-factor"><i class="fa fa-check"></i><b>3.3.4</b> Etiquetas de un factor<span></span></a></li>
<li class="chapter" data-level="3.3.5" data-path="factores.html"><a href="factores.html#valores-perdidos-en-un-factor"><i class="fa fa-check"></i><b>3.3.5</b> Valores perdidos en un factor<span></span></a></li>
<li class="chapter" data-level="3.3.6" data-path="factores.html"><a href="factores.html#indexación-de-factores"><i class="fa fa-check"></i><b>3.3.6</b> Indexación de factores<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="matrices.html"><a href="matrices.html"><i class="fa fa-check"></i><b>3.4</b> Matrices<span></span></a></li>
<li class="chapter" data-level="3.5" data-path="data-frames.html"><a href="data-frames.html"><i class="fa fa-check"></i><b>3.5</b> Data Frames<span></span></a></li>
<li class="chapter" data-level="3.6" data-path="tibbles.html"><a href="tibbles.html"><i class="fa fa-check"></i><b>3.6</b> Tibbles<span></span></a></li>
<li class="chapter" data-level="3.7" data-path="listas.html"><a href="listas.html"><i class="fa fa-check"></i><b>3.7</b> Listas<span></span></a></li>
<li class="chapter" data-level="3.8" data-path="coerción-de-variables.html"><a href="coerción-de-variables.html"><i class="fa fa-check"></i><b>3.8</b> Coerción de variables<span></span></a></li>
<li class="chapter" data-level="3.9" data-path="ejercicios-del-capítulo-1.html"><a href="ejercicios-del-capítulo-1.html"><i class="fa fa-check"></i><b>3.9</b> Ejercicios del capítulo<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="carga-y-exportación-de-datos.html"><a href="carga-y-exportación-de-datos.html"><i class="fa fa-check"></i><b>4</b> <strong>Carga y exportación de datos</strong><span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html"><i class="fa fa-check"></i><b>4.1</b> Lectura de bases de datos<span></span></a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html#archivos-delimitados"><i class="fa fa-check"></i><b>4.1.1</b> Archivos delimitados<span></span></a></li>
<li class="chapter" data-level="4.1.2" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html#archivos-tabulados"><i class="fa fa-check"></i><b>4.1.2</b> Archivos tabulados<span></span></a></li>
<li class="chapter" data-level="4.1.3" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html#archivos-delimitados-con-otros-caracteres"><i class="fa fa-check"></i><b>4.1.3</b> Archivos delimitados con otros caracteres<span></span></a></li>
<li class="chapter" data-level="4.1.4" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html#hojas-de-cálculo-de-excel"><i class="fa fa-check"></i><b>4.1.4</b> Hojas de cálculo de Excel<span></span></a></li>
<li class="chapter" data-level="4.1.5" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html#bases-de-datos-de-r"><i class="fa fa-check"></i><b>4.1.5</b> Bases de datos de R<span></span></a></li>
<li class="chapter" data-level="4.1.6" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html#archivos-de-spss"><i class="fa fa-check"></i><b>4.1.6</b> Archivos de SPSS<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="exportar-basas-de-datos.html"><a href="exportar-basas-de-datos.html"><i class="fa fa-check"></i><b>4.2</b> Exportar basas de datos<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="programación-funcional.html"><a href="programación-funcional.html"><i class="fa fa-check"></i><b>5</b> <strong>Programación funcional</strong><span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="creacion-fun.html"><a href="creacion-fun.html"><i class="fa fa-check"></i><b>5.1</b> Creación de funciones<span></span></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="creacion-fun.html"><a href="creacion-fun.html#ejemplo-simple"><i class="fa fa-check"></i><b>5.1.1</b> Ejemplo simple<span></span></a></li>
<li class="chapter" data-level="5.1.2" data-path="creacion-fun.html"><a href="creacion-fun.html#función-de-gauss"><i class="fa fa-check"></i><b>5.1.2</b> Función de Gauss<span></span></a></li>
<li class="chapter" data-level="5.1.3" data-path="creacion-fun.html"><a href="creacion-fun.html#variables-y-valores-por-defecto"><i class="fa fa-check"></i><b>5.1.3</b> Variables y valores por defecto<span></span></a></li>
<li class="chapter" data-level="5.1.4" data-path="creacion-fun.html"><a href="creacion-fun.html#almacenar-variables-directamente-en-el-ambiente"><i class="fa fa-check"></i><b>5.1.4</b> Almacenar variables directamente en el ambiente<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="control-de-flujo.html"><a href="control-de-flujo.html"><i class="fa fa-check"></i><b>5.2</b> Control de flujo<span></span></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="control-de-flujo.html"><a href="control-de-flujo.html#control-con-if"><i class="fa fa-check"></i><b>5.2.1</b> Control con <code>if</code><span></span></a></li>
<li class="chapter" data-level="5.2.2" data-path="control-de-flujo.html"><a href="control-de-flujo.html#control-completo-con-if-y-else"><i class="fa fa-check"></i><b>5.2.2</b> Control completo con <code>if</code> y <code>else</code><span></span></a></li>
<li class="chapter" data-level="5.2.3" data-path="control-de-flujo.html"><a href="control-de-flujo.html#condicionales-en-vectores-de-más-de-un-elemento-con-ifelse"><i class="fa fa-check"></i><b>5.2.3</b> Condicionales en vectores de más de un elemento con <code>ifelse()</code><span></span></a></li>
<li class="chapter" data-level="5.2.4" data-path="control-de-flujo.html"><a href="control-de-flujo.html#condicionales-en-vectores-case_when-de-dplyr"><i class="fa fa-check"></i><b>5.2.4</b> Condicionales en vectores <code>case_when()</code> de <strong>dplyr</strong><span></span></a></li>
<li class="chapter" data-level="5.2.5" data-path="control-de-flujo.html"><a href="control-de-flujo.html#ciclos-o-loops-con-for"><i class="fa fa-check"></i><b>5.2.5</b> Ciclos o Loops con <code>for</code><span></span></a></li>
<li class="chapter" data-level="5.2.6" data-path="control-de-flujo.html"><a href="control-de-flujo.html#ciclos-o-loops-con-replicate"><i class="fa fa-check"></i><b>5.2.6</b> Ciclos o loops con <code>replicate()</code><span></span></a></li>
<li class="chapter" data-level="5.2.7" data-path="control-de-flujo.html"><a href="control-de-flujo.html#ciclos-o-loops-con-while"><i class="fa fa-check"></i><b>5.2.7</b> Ciclos o Loops con <code>while</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="operadoresfuncion.html"><a href="operadoresfuncion.html"><i class="fa fa-check"></i><b>5.3</b> Operadores de función<span></span></a></li>
<li class="chapter" data-level="5.4" data-path="familia-apply.html"><a href="familia-apply.html"><i class="fa fa-check"></i><b>5.4</b> Familia <code>apply()</code><span></span></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="familia-apply.html"><a href="familia-apply.html#función-apply"><i class="fa fa-check"></i><b>5.4.1</b> Función <code>apply()</code><span></span></a></li>
<li class="chapter" data-level="5.4.2" data-path="familia-apply.html"><a href="familia-apply.html#función-lapply"><i class="fa fa-check"></i><b>5.4.2</b> Función <code>lapply()</code><span></span></a></li>
<li class="chapter" data-level="5.4.3" data-path="familia-apply.html"><a href="familia-apply.html#función-tapply"><i class="fa fa-check"></i><b>5.4.3</b> Función <code>tapply()</code><span></span></a></li>
<li class="chapter" data-level="5.4.4" data-path="familia-apply.html"><a href="familia-apply.html#función-sapply"><i class="fa fa-check"></i><b>5.4.4</b> Función <code>sapply()</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="ejercicios-del-capítulo-2.html"><a href="ejercicios-del-capítulo-2.html"><i class="fa fa-check"></i><b>5.5</b> Ejercicios del capítulo<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tidyversecap.html"><a href="tidyversecap.html"><i class="fa fa-check"></i><b>6</b> <strong>Manejo de datos con</strong> <strong>tidyverse</strong><span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="datosordenados.html"><a href="datosordenados.html"><i class="fa fa-check"></i><b>6.1</b> Datos ordenados (tidy)<span></span></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="datosordenados.html"><a href="datosordenados.html#qué-evitar-para-tener-datos-tidy"><i class="fa fa-check"></i><b>6.1.1</b> ¿Qué evitar para tener datos tidy?<span></span></a></li>
<li class="chapter" data-level="6.1.2" data-path="datosordenados.html"><a href="datosordenados.html#cómo-se-debe-ver-una-base-tidy"><i class="fa fa-check"></i><b>6.1.2</b> ¿Cómo se debe ver una base tidy?<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="introducción-a-dplyr-y-tidyr.html"><a href="introducción-a-dplyr-y-tidyr.html"><i class="fa fa-check"></i><b>6.2</b> Introducción a <code>dplyr</code> y <code>tidyr</code><span></span></a></li>
<li class="chapter" data-level="6.3" data-path="pipelines-con-tidyverse.html"><a href="pipelines-con-tidyverse.html"><i class="fa fa-check"></i><b>6.3</b> Pipelines con tidyverse<span></span></a></li>
<li class="chapter" data-level="6.4" data-path="tablas-anchas-y-largas-con-tidyr.html"><a href="tablas-anchas-y-largas-con-tidyr.html"><i class="fa fa-check"></i><b>6.4</b> Tablas anchas y largas con tidyr<span></span></a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="tablas-anchas-y-largas-con-tidyr.html"><a href="tablas-anchas-y-largas-con-tidyr.html#de-ancha-a-larga"><i class="fa fa-check"></i><b>6.4.1</b> De ancha a larga<span></span></a></li>
<li class="chapter" data-level="6.4.2" data-path="tablas-anchas-y-largas-con-tidyr.html"><a href="tablas-anchas-y-largas-con-tidyr.html#de-larga-a-ancha"><i class="fa fa-check"></i><b>6.4.2</b> De larga a ancha<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="filtrado.html"><a href="filtrado.html"><i class="fa fa-check"></i><b>6.5</b> Filtrado<span></span></a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="filtrado.html"><a href="filtrado.html#procedimiento-de-filtrado"><i class="fa fa-check"></i><b>6.5.1</b> Procedimiento de filtrado<span></span></a></li>
<li class="chapter" data-level="6.5.2" data-path="filtrado.html"><a href="filtrado.html#aplicaciones-de-filtrado"><i class="fa fa-check"></i><b>6.5.2</b> Aplicaciones de filtrado<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="selección.html"><a href="selección.html"><i class="fa fa-check"></i><b>6.6</b> Selección<span></span></a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="selección.html"><a href="selección.html#seleccionar-con-funciones-especiales"><i class="fa fa-check"></i><b>6.6.1</b> Seleccionar con funciones especiales<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="agrupamiento.html"><a href="agrupamiento.html"><i class="fa fa-check"></i><b>6.7</b> Agrupamiento<span></span></a></li>
<li class="chapter" data-level="6.8" data-path="conteo.html"><a href="conteo.html"><i class="fa fa-check"></i><b>6.8</b> Conteo<span></span></a></li>
<li class="chapter" data-level="6.9" data-path="resúmenes-estadísticos.html"><a href="resúmenes-estadísticos.html"><i class="fa fa-check"></i><b>6.9</b> Resúmenes estadísticos<span></span></a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="resúmenes-estadísticos.html"><a href="resúmenes-estadísticos.html#otras-funciones-de-la-familia-summarise"><i class="fa fa-check"></i><b>6.9.1</b> Otras funciones de la familia <code>summarise()</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="reordenamiento.html"><a href="reordenamiento.html"><i class="fa fa-check"></i><b>6.10</b> Reordenamiento<span></span></a></li>
<li class="chapter" data-level="6.11" data-path="creación-y-transformación-de-columnas.html"><a href="creación-y-transformación-de-columnas.html"><i class="fa fa-check"></i><b>6.11</b> Creación y transformación de columnas<span></span></a></li>
<li class="chapter" data-level="6.12" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html"><i class="fa fa-check"></i><b>6.12</b> Combinar bases de datos<span></span></a>
<ul>
<li class="chapter" data-level="6.12.1" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html#full_join"><i class="fa fa-check"></i><b>6.12.1</b> <code>full_join()</code><span></span></a></li>
<li class="chapter" data-level="6.12.2" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html#left_join"><i class="fa fa-check"></i><b>6.12.2</b> <code>left_join()</code><span></span></a></li>
<li class="chapter" data-level="6.12.3" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html#right_join"><i class="fa fa-check"></i><b>6.12.3</b> <code>right_join()</code><span></span></a></li>
<li class="chapter" data-level="6.12.4" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html#inner_join"><i class="fa fa-check"></i><b>6.12.4</b> <code>inner_join()</code><span></span></a></li>
<li class="chapter" data-level="6.12.5" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html#semi_join"><i class="fa fa-check"></i><b>6.12.5</b> <code>semi_join()</code><span></span></a></li>
<li class="chapter" data-level="6.12.6" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html#anti_join"><i class="fa fa-check"></i><b>6.12.6</b> <code>anti_join()</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.13" data-path="limpieza-de-datos.html"><a href="limpieza-de-datos.html"><i class="fa fa-check"></i><b>6.13</b> Limpieza de datos<span></span></a>
<ul>
<li class="chapter" data-level="6.13.1" data-path="limpieza-de-datos.html"><a href="limpieza-de-datos.html#cuántos-na-existen-en-la-base-de-datos"><i class="fa fa-check"></i><b>6.13.1</b> ¿Cuántos NA existen en la base de datos?<span></span></a></li>
<li class="chapter" data-level="6.13.2" data-path="limpieza-de-datos.html"><a href="limpieza-de-datos.html#cuántos-na-existen-en-cada-columna"><i class="fa fa-check"></i><b>6.13.2</b> ¿Cuántos NA existen en cada columna?<span></span></a></li>
<li class="chapter" data-level="6.13.3" data-path="limpieza-de-datos.html"><a href="limpieza-de-datos.html#en-qué-fila-o-columna-están-los-na"><i class="fa fa-check"></i><b>6.13.3</b> ¿En qué fila o columna están los NA?<span></span></a></li>
<li class="chapter" data-level="6.13.4" data-path="limpieza-de-datos.html"><a href="limpieza-de-datos.html#cómo-reemplazar-los-na-por-otro-valor"><i class="fa fa-check"></i><b>6.13.4</b> ¿Cómo reemplazar los NA por otro valor?<span></span></a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>APÉNDICES<span></span></b></span></li>
<li class="chapter" data-level="A" data-path="solucionario-de-ejercicios.html"><a href="solucionario-de-ejercicios.html"><i class="fa fa-check"></i><b>A</b> <strong>Solucionario de ejercicios</strong><span></span></a>
<ul>
<li class="chapter" data-level="A.1" data-path="cap.-2-primer-contacto-con-r.html"><a href="cap.-2-primer-contacto-con-r.html"><i class="fa fa-check"></i><b>A.1</b> Cap. 2: Primer contacto con R<span></span></a></li>
<li class="chapter" data-level="A.2" data-path="preg-estructurasdatos.html"><a href="preg-estructurasdatos.html"><i class="fa fa-check"></i><b>A.2</b> Cap. 3: Estructuras de datos<span></span></a></li>
<li class="chapter" data-level="A.3" data-path="cap.-5-programación-funcional.html"><a href="cap.-5-programación-funcional.html"><i class="fa fa-check"></i><b>A.3</b> Cap. 5: Programación funcional<span></span></a></li>
</ul></li>
<li class="divider"></li>
<li class='after'">
  <center>
   <a href="https://github.com/irwingss/">
      <img src="figs/banner completo.png" style="width:100%; padding:0px 0; display:block; margin: 0 auto;" alt="MC logo">
   </center>
   </a>
</li>
<li class='after'">
   <div style='text-align:center'>
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
         <i class="fab fa-creative-commons fa-lg"></i>
         <i class="fab fa-creative-commons-by fa-lg"></i>
         <i class="fab fa-creative-commons-sa fa-lg"></i>
      </a>
   </div>
</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a R para Ciencias</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="creación-y-transformación-de-columnas" class="section level2 hasAnchor" number="6.11">
<h2><span class="header-section-number">6.11</span> Creación y transformación de columnas<a href="creación-y-transformación-de-columnas.html#creación-y-transformación-de-columnas" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Las funciones de la familia <code>mutate()</code> simplifican enormemente el proceso de crear columnas en la base de datos. Algo muy interesante es que es posible aplicar una transformación a una columna que se está creando o modificando dentro de la misma función de <code>mutate()</code> y <code>transmute()</code> (revisa la <code>COL_NUEVA4</code> en el siguiente código). La estructura base es:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="creación-y-transformación-de-columnas.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Usando mutate()</span></span>
<span id="cb177-2"><a href="creación-y-transformación-de-columnas.html#cb177-2" aria-hidden="true" tabindex="-1"></a>BASE_DE_DATOS <span class="sc">%&gt;%</span> ... <span class="sc">%&gt;%</span> </span>
<span id="cb177-3"><a href="creación-y-transformación-de-columnas.html#cb177-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">COL_NUEVA1 =</span> <span class="fu">FUNCION_DE_TRANSFORMACION</span>(COL_ANTIGUA1),</span>
<span id="cb177-4"><a href="creación-y-transformación-de-columnas.html#cb177-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">COL_NUEVA2 =</span> <span class="fu">FUNCION_DE_TRANSFORMACION</span>(COL_ANTIGUA2),</span>
<span id="cb177-5"><a href="creación-y-transformación-de-columnas.html#cb177-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">COL_NUEVA3 =</span> <span class="fu">FUNCION_DE_TRANSFORMACION</span>(COL_ANTIGUA3),</span>
<span id="cb177-6"><a href="creación-y-transformación-de-columnas.html#cb177-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">COL_NUEVA4 =</span> <span class="fu">FUNCION_DE_TRANSFORMACION</span>(COL_NUEVA1))</span>
<span id="cb177-7"><a href="creación-y-transformación-de-columnas.html#cb177-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-8"><a href="creación-y-transformación-de-columnas.html#cb177-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Usando transmute()</span></span>
<span id="cb177-9"><a href="creación-y-transformación-de-columnas.html#cb177-9" aria-hidden="true" tabindex="-1"></a>BASE_DE_DATOS <span class="sc">%&gt;%</span> ... <span class="sc">%&gt;%</span> </span>
<span id="cb177-10"><a href="creación-y-transformación-de-columnas.html#cb177-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(<span class="at">COL_NUEVA1 =</span> <span class="fu">FUNCION_DE_TRANSFORMACION</span>(COL_ANTIGUA1),</span>
<span id="cb177-11"><a href="creación-y-transformación-de-columnas.html#cb177-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">COL_NUEVA2 =</span> <span class="fu">FUNCION_DE_TRANSFORMACION</span>(COL_ANTIGUA2),</span>
<span id="cb177-12"><a href="creación-y-transformación-de-columnas.html#cb177-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">COL_NUEVA3 =</span> <span class="fu">FUNCION_DE_TRANSFORMACION</span>(COL_ANTIGUA3),</span>
<span id="cb177-13"><a href="creación-y-transformación-de-columnas.html#cb177-13" aria-hidden="true" tabindex="-1"></a>         <span class="at">COL_NUEVA4 =</span> <span class="fu">FUNCION_DE_TRANSFORMACION</span>(COL_NUEVA1))</span></code></pre></div>

<div class="rmdtip">
El resultado de transformación con <code>transmute()</code> es el mismo, excepto que las nuevas columnas aparecerán solitarias en su propia tabla, separadas de la original. Con <code>mutate()</code>, las nuevas columnas aparecen adjuntas a la derecha de la última columna dentro de la tabla original.
</div>
<div class="example">
<p><span id="exm:summariseall" class="example"><strong>Ejemplo 6.16  </strong></span>Se pretende ejemplificar un nuevo índice de la relación Poliomielitis - Sarampión utilizando la fórmula:</p>
<p><span class="math display">\[MP = 0.00001*\frac{\sqrt{\text{#Casos de Sarampión}}}{0.39*\text{#Casos de Polio}^2} \]</span></p>
<p>Crear la nueva columna MP operando las columnas <code>Measles</code> para Sarampión y <code>Polio</code> para Poliomielitis. Por motivos del ejemplo, seleccionar previamente únicamente las columnas de trabajo, junto con <code>Country</code> y <code>Year</code> para identificar en qué países y qué años se tuvo un mayor valor del índice. Reordenar la columna <code>MP</code> de modo descendente y mostrar las primeras 10 filas.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="creación-y-transformación-de-columnas.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># con mutate()</span></span>
<span id="cb178-2"><a href="creación-y-transformación-de-columnas.html#cb178-2" aria-hidden="true" tabindex="-1"></a>WHO <span class="sc">%&gt;%</span> </span>
<span id="cb178-3"><a href="creación-y-transformación-de-columnas.html#cb178-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Measles, Polio, Country, Year) <span class="sc">%&gt;%</span> </span>
<span id="cb178-4"><a href="creación-y-transformación-de-columnas.html#cb178-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">MP =</span> (<span class="fl">0.00001</span><span class="sc">*</span>(<span class="fu">sqrt</span>(Measles) <span class="sc">/</span> <span class="fl">0.39</span> <span class="sc">*</span> Polio<span class="sc">^</span><span class="dv">2</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb178-5"><a href="creación-y-transformación-de-columnas.html#cb178-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(MP)) <span class="sc">%&gt;%</span> </span>
<span id="cb178-6"><a href="creación-y-transformación-de-columnas.html#cb178-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb178-7"><a href="creación-y-transformación-de-columnas.html#cb178-7" aria-hidden="true" tabindex="-1"></a><span class="co">#    Measles Polio                          Country Year    MP</span></span>
<span id="cb178-8"><a href="creación-y-transformación-de-columnas.html#cb178-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 1   131441    99                            China 2008 91.11</span></span>
<span id="cb178-9"><a href="creación-y-transformación-de-columnas.html#cb178-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 2   109023    94                            China 2007 74.81</span></span>
<span id="cb178-10"><a href="creación-y-transformación-de-columnas.html#cb178-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 3    99602    94                            China 2006 71.50</span></span>
<span id="cb178-11"><a href="creación-y-transformación-de-columnas.html#cb178-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 4   124219    87                            China 2005 68.40</span></span>
<span id="cb178-12"><a href="creación-y-transformación-de-columnas.html#cb178-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 5   118712    86                           Malawi 2010 65.34</span></span>
<span id="cb178-13"><a href="creación-y-transformación-de-columnas.html#cb178-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 6    52628    99                            China 2014 57.65</span></span>
<span id="cb178-14"><a href="creación-y-transformación-de-columnas.html#cb178-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 7    52461    99                            China 2009 57.56</span></span>
<span id="cb178-15"><a href="creación-y-transformación-de-columnas.html#cb178-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 8    90387    86                            India 2015 57.01</span></span>
<span id="cb178-16"><a href="creación-y-transformación-de-columnas.html#cb178-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 9    88962    86                            China 2001 56.56</span></span>
<span id="cb178-17"><a href="creación-y-transformación-de-columnas.html#cb178-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 10  133802    77 Democratic Republic of the Congo 2011 55.61</span></span>
<span id="cb178-18"><a href="creación-y-transformación-de-columnas.html#cb178-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-19"><a href="creación-y-transformación-de-columnas.html#cb178-19" aria-hidden="true" tabindex="-1"></a><span class="co"># con transmute(), no es necesario seleccionar </span></span>
<span id="cb178-20"><a href="creación-y-transformación-de-columnas.html#cb178-20" aria-hidden="true" tabindex="-1"></a><span class="co"># debido a que solo se mostrará la columna creada</span></span>
<span id="cb178-21"><a href="creación-y-transformación-de-columnas.html#cb178-21" aria-hidden="true" tabindex="-1"></a>WHO <span class="sc">%&gt;%</span> </span>
<span id="cb178-22"><a href="creación-y-transformación-de-columnas.html#cb178-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(<span class="at">MP =</span> (<span class="fl">0.00001</span><span class="sc">*</span>(<span class="fu">sqrt</span>(Measles) <span class="sc">/</span> <span class="fl">0.39</span> <span class="sc">*</span> Polio<span class="sc">^</span><span class="dv">2</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb178-23"><a href="creación-y-transformación-de-columnas.html#cb178-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(MP)) <span class="sc">%&gt;%</span> </span>
<span id="cb178-24"><a href="creación-y-transformación-de-columnas.html#cb178-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb178-25"><a href="creación-y-transformación-de-columnas.html#cb178-25" aria-hidden="true" tabindex="-1"></a><span class="co">#       MP</span></span>
<span id="cb178-26"><a href="creación-y-transformación-de-columnas.html#cb178-26" aria-hidden="true" tabindex="-1"></a><span class="co"># 1  91.11</span></span>
<span id="cb178-27"><a href="creación-y-transformación-de-columnas.html#cb178-27" aria-hidden="true" tabindex="-1"></a><span class="co"># 2  74.81</span></span>
<span id="cb178-28"><a href="creación-y-transformación-de-columnas.html#cb178-28" aria-hidden="true" tabindex="-1"></a><span class="co"># 3  71.50</span></span>
<span id="cb178-29"><a href="creación-y-transformación-de-columnas.html#cb178-29" aria-hidden="true" tabindex="-1"></a><span class="co"># 4  68.40</span></span>
<span id="cb178-30"><a href="creación-y-transformación-de-columnas.html#cb178-30" aria-hidden="true" tabindex="-1"></a><span class="co"># 5  65.34</span></span>
<span id="cb178-31"><a href="creación-y-transformación-de-columnas.html#cb178-31" aria-hidden="true" tabindex="-1"></a><span class="co"># 6  57.65</span></span>
<span id="cb178-32"><a href="creación-y-transformación-de-columnas.html#cb178-32" aria-hidden="true" tabindex="-1"></a><span class="co"># 7  57.56</span></span>
<span id="cb178-33"><a href="creación-y-transformación-de-columnas.html#cb178-33" aria-hidden="true" tabindex="-1"></a><span class="co"># 8  57.01</span></span>
<span id="cb178-34"><a href="creación-y-transformación-de-columnas.html#cb178-34" aria-hidden="true" tabindex="-1"></a><span class="co"># 9  56.56</span></span>
<span id="cb178-35"><a href="creación-y-transformación-de-columnas.html#cb178-35" aria-hidden="true" tabindex="-1"></a><span class="co"># 10 55.61</span></span></code></pre></div>
</div>
<table>
<caption><span id="tab:unnamed-chunk-55">Tabla 6.2: </span>Funciones de la familia <code>mutate()</code> y <code>transmute()</code></caption>
<thead>
<tr class="header">
<th align="left">Función</th>
<th align="left">Descripción</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>mutate()</code></td>
<td align="left">Crea o modifica columnas especificadas una por una. El resultado muestra todas las columnas de la tabla original.</td>
</tr>
<tr class="even">
<td align="left"><code>transmute()</code></td>
<td align="left">Crea o modifica columnas especificadas una por una. El resultado solo muestra las columnas creadas o modificadas.</td>
</tr>
<tr class="odd">
<td align="left"><code>mutate_all()</code></td>
<td align="left">Aplica una modificación a todas las columnas de una tabla.</td>
</tr>
<tr class="even">
<td align="left"><code>mutate_at()</code></td>
<td align="left">Aplica la(s) modificación(es) solo a la(s) columna(s) especificada(s) en la tabla.</td>
</tr>
<tr class="odd">
<td align="left"><code>mutate_if()</code></td>
<td align="left">Aplica una modificación a todas las columnas que cumplan con una condición lógica.</td>
</tr>
<tr class="even">
<td align="left"><code>mutate_each()</code></td>
<td align="left">Idéntica a <code>mutate_all()</code> es considerada obsoleta (deprecated). <code>mutate_each_()</code> también es obsoleta.</td>
</tr>
<tr class="odd">
<td align="left"><code>transmute_all()</code></td>
<td align="left">Aplica una modificación a todas las columnas de una tabla. Las exporta en una nueva tabla, no dentro de la original.</td>
</tr>
<tr class="even">
<td align="left"><code>transmute_at()</code></td>
<td align="left">Aplica la(s) modificación(es) solo a la(s) columna(s) especificada(s) en la tabla. Las exporta en una nueva tabla, no dentro de la original.</td>
</tr>
<tr class="odd">
<td align="left"><code>transmute_if()</code></td>
<td align="left">Aplica una modificación a todas las columnas que cumplan con una condición lógica. Las exporta en una nueva tabla, no dentro de la original.</td>
</tr>
<tr class="even">
<td align="left"><code>transmute_each()</code></td>
<td align="left">Idéntica a <code>transmute_all()</code> es considerada obsoleta (deprecated). <code>transmute_each_()</code> también es obsoleta.</td>
</tr>
</tbody>
</table>
<p><br></p>
<div id="mutate_all-y-transmute_all" class="section level4 hasAnchor" number="6.11.0.1">
<h4><span class="header-section-number">6.11.0.1</span> <code>mutate_all()</code> y <code>transmute_all()</code><a href="creación-y-transformación-de-columnas.html#mutate_all-y-transmute_all" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Estas funciones aplicarán las funciones especificadas a todas las columnas de la tabla. Si alguna columna no cumple con lo necesario para se analizada, se genera error. Asegúrate de que la tabla por completo sea modificable con las funciones de transformación definidas. Como alternativa, se utiliza la función de <strong>dplyr</strong> <code>select()</code> para seleccionar las columnas de trabajo antes de aplicar <code>mutate_all()</code> o <code>transmute_all()</code>. La estructura básica es:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="creación-y-transformación-de-columnas.html#cb179-1" aria-hidden="true" tabindex="-1"></a>BASE_DE_DATOS <span class="sc">%&gt;%</span> </span>
<span id="cb179-2"><a href="creación-y-transformación-de-columnas.html#cb179-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(<span class="at">.funs =</span> <span class="fu">lst</span>(LISTA_DE_FUNCIONES))</span></code></pre></div>

<div class="rmdnote">
Si la función a usar en el argumento <code>.funs =</code> require más de un argumento para funcionar, es mejor crear una función con todas los argumentos definidos tal y como se necesitan. Luego usa la función nueva dentro de alguna función de la familia <code>mutate()</code>.
</div>
<div class="example">
<p><span id="exm:mutateall" class="example"><strong>Ejemplo 6.20  </strong></span>Seleccionando las columnas <code>Income</code>, <code>GDP</code> y <code>Life_exp</code>, aplicar la función <code>round()</code> para redondear a un dígito los decimales de estas columnas. Crea previamente la función <code>rr()</code> para redondear a dos decimales un valor dado.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="creación-y-transformación-de-columnas.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear una función de rendondeo a dos decimales</span></span>
<span id="cb180-2"><a href="creación-y-transformación-de-columnas.html#cb180-2" aria-hidden="true" tabindex="-1"></a>rr <span class="ot">&lt;-</span> <span class="cf">function</span>(x)<span class="fu">round</span>(x,<span class="dv">2</span>)</span>
<span id="cb180-3"><a href="creación-y-transformación-de-columnas.html#cb180-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-4"><a href="creación-y-transformación-de-columnas.html#cb180-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplicar dentro de mutate_all</span></span>
<span id="cb180-5"><a href="creación-y-transformación-de-columnas.html#cb180-5" aria-hidden="true" tabindex="-1"></a>WHO <span class="sc">%&gt;%</span> </span>
<span id="cb180-6"><a href="creación-y-transformación-de-columnas.html#cb180-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Income, GDP, Life_exp) <span class="sc">%&gt;%</span> </span>
<span id="cb180-7"><a href="creación-y-transformación-de-columnas.html#cb180-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(<span class="at">.funs =</span> <span class="fu">lst</span>(rr)) <span class="sc">%&gt;%</span> </span>
<span id="cb180-8"><a href="creación-y-transformación-de-columnas.html#cb180-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb180-9"><a href="creación-y-transformación-de-columnas.html#cb180-9" aria-hidden="true" tabindex="-1"></a><span class="co">#    Income    GDP Life_exp Income_rr GDP_rr Life_exp_rr</span></span>
<span id="cb180-10"><a href="creación-y-transformación-de-columnas.html#cb180-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 1   0.479 584.26     65.0      0.48 584.26        65.0</span></span>
<span id="cb180-11"><a href="creación-y-transformación-de-columnas.html#cb180-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 2   0.476 612.70     59.9      0.48 612.70        59.9</span></span>
<span id="cb180-12"><a href="creación-y-transformación-de-columnas.html#cb180-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 3   0.470 631.74     59.9      0.47 631.74        59.9</span></span>
<span id="cb180-13"><a href="creación-y-transformación-de-columnas.html#cb180-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 4   0.463 669.96     59.5      0.46 669.96        59.5</span></span>
<span id="cb180-14"><a href="creación-y-transformación-de-columnas.html#cb180-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 5   0.454  63.54     59.2      0.45  63.54        59.2</span></span>
<span id="cb180-15"><a href="creación-y-transformación-de-columnas.html#cb180-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 6   0.448 553.33     58.8      0.45 553.33        58.8</span></span>
<span id="cb180-16"><a href="creación-y-transformación-de-columnas.html#cb180-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 7   0.434 445.89     58.6      0.43 445.89        58.6</span></span>
<span id="cb180-17"><a href="creación-y-transformación-de-columnas.html#cb180-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 8   0.433 373.36     58.1      0.43 373.36        58.1</span></span>
<span id="cb180-18"><a href="creación-y-transformación-de-columnas.html#cb180-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 9   0.415 369.84     57.5      0.42 369.84        57.5</span></span>
<span id="cb180-19"><a href="creación-y-transformación-de-columnas.html#cb180-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 10  0.405 272.56     57.3      0.41 272.56        57.3</span></span></code></pre></div>
</div>
</div>
<div id="mutate_at-y-transmute_at" class="section level4 hasAnchor" number="6.11.0.2">
<h4><span class="header-section-number">6.11.0.2</span> <code>mutate_at()</code> y <code>transmute_at()</code><a href="creación-y-transformación-de-columnas.html#mutate_at-y-transmute_at" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Estas funciones permite seleccionar las columnas de trabajo a las cuales se les aplicará algo. La estructura básica es:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="creación-y-transformación-de-columnas.html#cb181-1" aria-hidden="true" tabindex="-1"></a>BASE_DE_DATOS <span class="sc">%&gt;%</span> </span>
<span id="cb181-2"><a href="creación-y-transformación-de-columnas.html#cb181-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_at</span>(<span class="at">.vars =</span> <span class="fu">vars</span>(COLUMNAS_DE_TRABAJO),</span>
<span id="cb181-3"><a href="creación-y-transformación-de-columnas.html#cb181-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">.funs =</span> <span class="fu">lst</span>(LISTA_DE_FUNCIONES))</span>
<span id="cb181-4"><a href="creación-y-transformación-de-columnas.html#cb181-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb181-5"><a href="creación-y-transformación-de-columnas.html#cb181-5" aria-hidden="true" tabindex="-1"></a>BASE_DE_DATOS <span class="sc">%&gt;%</span> </span>
<span id="cb181-6"><a href="creación-y-transformación-de-columnas.html#cb181-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute_at</span>(<span class="at">.vars =</span> <span class="fu">vars</span>(COLUMNAS_DE_TRABAJO),</span>
<span id="cb181-7"><a href="creación-y-transformación-de-columnas.html#cb181-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">.funs =</span> <span class="fu">lst</span>(LISTA_DE_FUNCIONES))</span></code></pre></div>
<div class="example">
<p><span id="exm:unlabeled-div-43" class="example"><strong>Ejemplo 6.21  </strong></span>Siguiendo el ejemplo @ref:(exm:mutateall), recrear el resultado utilizando <code>mutate_at()</code>. Si se utiliza <code>mutate_at()</code> con toda la tabla, el resultado será la misma base de datos más las nuevas columnas transformadas. Para no imprimir tanta información, utiliza <code>transmute_at()</code></p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="creación-y-transformación-de-columnas.html#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear una función de rendondeo a dos decimales</span></span>
<span id="cb182-2"><a href="creación-y-transformación-de-columnas.html#cb182-2" aria-hidden="true" tabindex="-1"></a>rr <span class="ot">&lt;-</span> <span class="cf">function</span>(x)<span class="fu">round</span>(x,<span class="dv">2</span>)</span>
<span id="cb182-3"><a href="creación-y-transformación-de-columnas.html#cb182-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-4"><a href="creación-y-transformación-de-columnas.html#cb182-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplicar dentro de mutate_all</span></span>
<span id="cb182-5"><a href="creación-y-transformación-de-columnas.html#cb182-5" aria-hidden="true" tabindex="-1"></a>WHO <span class="sc">%&gt;%</span> </span>
<span id="cb182-6"><a href="creación-y-transformación-de-columnas.html#cb182-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute_at</span>(<span class="at">.vars =</span> <span class="fu">vars</span>(Income, GDP, Life_exp),</span>
<span id="cb182-7"><a href="creación-y-transformación-de-columnas.html#cb182-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">.funs =</span> <span class="fu">lst</span>(rr)) <span class="sc">%&gt;%</span> </span>
<span id="cb182-8"><a href="creación-y-transformación-de-columnas.html#cb182-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb182-9"><a href="creación-y-transformación-de-columnas.html#cb182-9" aria-hidden="true" tabindex="-1"></a><span class="co">#    Income_rr GDP_rr Life_exp_rr</span></span>
<span id="cb182-10"><a href="creación-y-transformación-de-columnas.html#cb182-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 1       0.48 584.26        65.0</span></span>
<span id="cb182-11"><a href="creación-y-transformación-de-columnas.html#cb182-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 2       0.48 612.70        59.9</span></span>
<span id="cb182-12"><a href="creación-y-transformación-de-columnas.html#cb182-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 3       0.47 631.74        59.9</span></span>
<span id="cb182-13"><a href="creación-y-transformación-de-columnas.html#cb182-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 4       0.46 669.96        59.5</span></span>
<span id="cb182-14"><a href="creación-y-transformación-de-columnas.html#cb182-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 5       0.45  63.54        59.2</span></span>
<span id="cb182-15"><a href="creación-y-transformación-de-columnas.html#cb182-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 6       0.45 553.33        58.8</span></span>
<span id="cb182-16"><a href="creación-y-transformación-de-columnas.html#cb182-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 7       0.43 445.89        58.6</span></span>
<span id="cb182-17"><a href="creación-y-transformación-de-columnas.html#cb182-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 8       0.43 373.36        58.1</span></span>
<span id="cb182-18"><a href="creación-y-transformación-de-columnas.html#cb182-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 9       0.42 369.84        57.5</span></span>
<span id="cb182-19"><a href="creación-y-transformación-de-columnas.html#cb182-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 10      0.41 272.56        57.3</span></span></code></pre></div>
</div>
</div>
<div id="mutate_if-y-transmute_if" class="section level4 hasAnchor" number="6.11.0.3">
<h4><span class="header-section-number">6.11.0.3</span> <code>mutate_if()</code> y <code>transmute_if()</code><a href="creación-y-transformación-de-columnas.html#mutate_if-y-transmute_if" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Como otras funciones nombradas como <code>_if</code>, estas permiten indicar una condición lógica para seleccionar solo las columnas que cumplan con dicha condición. Para establecer la condición se utiliza funciones de la familia <code>is()</code>, como <code>is.numeric()</code>. La estructura básica es:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="creación-y-transformación-de-columnas.html#cb183-1" aria-hidden="true" tabindex="-1"></a>BASE_DE_DATOS <span class="sc">%&gt;%</span> </span>
<span id="cb183-2"><a href="creación-y-transformación-de-columnas.html#cb183-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(<span class="at">.predicate =</span> FUNCIÓN_IS_SIN_PARÉNTESIS,</span>
<span id="cb183-3"><a href="creación-y-transformación-de-columnas.html#cb183-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">.funs =</span> <span class="fu">lst</span>(LISTA_DE_FUNCIONES))</span>
<span id="cb183-4"><a href="creación-y-transformación-de-columnas.html#cb183-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-5"><a href="creación-y-transformación-de-columnas.html#cb183-5" aria-hidden="true" tabindex="-1"></a>BASE_DE_DATOS <span class="sc">%&gt;%</span> </span>
<span id="cb183-6"><a href="creación-y-transformación-de-columnas.html#cb183-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute_if</span>(<span class="at">.predicate =</span> FUNCIÓN_IS_SIN_PARÉNTESIS,</span>
<span id="cb183-7"><a href="creación-y-transformación-de-columnas.html#cb183-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">.funs =</span> <span class="fu">lst</span>(LISTA_DE_FUNCIONES))</span></code></pre></div>
<div class="example">
<p><span id="exm:unlabeled-div-44" class="example"><strong>Ejemplo 6.22  </strong></span>Aplicar la transformación a factor de las columnas del tipo carácter:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="creación-y-transformación-de-columnas.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Revisar la estructura de WHO</span></span>
<span id="cb184-2"><a href="creación-y-transformación-de-columnas.html#cb184-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Notar las columnas chr</span></span>
<span id="cb184-3"><a href="creación-y-transformación-de-columnas.html#cb184-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(WHO)</span>
<span id="cb184-4"><a href="creación-y-transformación-de-columnas.html#cb184-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-5"><a href="creación-y-transformación-de-columnas.html#cb184-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Utilizar mutate_if()</span></span>
<span id="cb184-6"><a href="creación-y-transformación-de-columnas.html#cb184-6" aria-hidden="true" tabindex="-1"></a>WHO2 <span class="ot">&lt;-</span> WHO <span class="sc">%&gt;%</span> </span>
<span id="cb184-7"><a href="creación-y-transformación-de-columnas.html#cb184-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_if</span>(is.character, as.factor)</span>
<span id="cb184-8"><a href="creación-y-transformación-de-columnas.html#cb184-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-9"><a href="creación-y-transformación-de-columnas.html#cb184-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Revisar la estructura de WHO2</span></span>
<span id="cb184-10"><a href="creación-y-transformación-de-columnas.html#cb184-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Notar que las columnas chr cambiaron a Factor </span></span>
<span id="cb184-11"><a href="creación-y-transformación-de-columnas.html#cb184-11" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(WHO2)</span></code></pre></div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="reordenamiento.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="combinar-bases-de-datos.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/irwingss/intro_r_ciencias/blob/master/06-tidyverse.Rmd",
"text": "Editar"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"depth": 2,
"scroll_highlight": true
},
"df_print": "kable"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
