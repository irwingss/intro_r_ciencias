<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6.13 Limpieza de datos | Introducción a R para Ciencias</title>
  <meta name="description" content="Libro introductorio al uso del lenguaje de programación R, con ejemplos orientados a ciencias" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="6.13 Limpieza de datos | Introducción a R para Ciencias" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://github.com/irwingss/intro_r_ciencias//Cover/cover R.png" />
  <meta property="og:description" content="Libro introductorio al uso del lenguaje de programación R, con ejemplos orientados a ciencias" />
  <meta name="github-repo" content="irwingss/intro_r_ciencias/" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6.13 Limpieza de datos | Introducción a R para Ciencias" />
  
  <meta name="twitter:description" content="Libro introductorio al uso del lenguaje de programación R, con ejemplos orientados a ciencias" />
  <meta name="twitter:image" content="https://github.com/irwingss/intro_r_ciencias//Cover/cover R.png" />

<meta name="author" content="Irwing S. Saldaña" />


<meta name="date" content="2022-03-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="figs/favicon.ico" type="image/x-icon" />
<link rel="prev" href="combinar-bases-de-datos.html"/>
<link rel="next" href="solucionario-de-ejercicios.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style/book.css" type="text/css" />
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class='before'><a href="./">Introducción a R para Ciencias</a></li>

<li class="divider"></li>
<li><a href="index.html#bienvenida"><strong>Bienvenida</strong><span></span></a>
<ul>
<li><a href="cómo-usar-el-libro.html#cómo-usar-el-libro">¿Cómo usar el libro?<span></span></a></li>
</ul></li>
<li><a href="prefacio.html#prefacio"><strong>Prefacio</strong><span></span></a>
<ul>
<li><a href="por-qué-aprender-r.html#por-qué-aprender-r">¿Por qué aprender R?<span></span></a></li>
<li><a href="a-quién-está-dirigido-este-libro.html#a-quién-está-dirigido-este-libro">¿A quién está dirigido este libro?<span></span></a></li>
<li><a href="agradecimientos.html#agradecimientos">Agradecimientos<span></span></a></li>
</ul></li>
<li class="part"><span><b>INTRODUCCIÓN A <br>R PARA CIENCIAS </br><span></span></b></span></li>
<li class="chapter" data-level="1" data-path="esencialesRRStudio.html"><a href="esencialesRRStudio.html"><i class="fa fa-check"></i><b>1</b> <strong>Esenciales de R y RStudio</strong><span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="instalación-de-r-y-rstudio.html"><a href="instalación-de-r-y-rstudio.html"><i class="fa fa-check"></i><b>1.1</b> Instalación de R y RStudio<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="configuración-de-rstudio.html"><a href="configuración-de-rstudio.html"><i class="fa fa-check"></i><b>1.2</b> Configuración de RStudio<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="nuevas-características-de-rstudio-versión-2022-actualizado-23-02-22.html"><a href="nuevas-características-de-rstudio-versión-2022-actualizado-23-02-22.html"><i class="fa fa-check"></i><b>1.3</b> Nuevas características de RStudio versión 2022 (Actualizado: 23-02-22)<span></span></a></li>
<li class="chapter" data-level="1.4" data-path="tema-brackinstitute-2022.html"><a href="tema-brackinstitute-2022.html"><i class="fa fa-check"></i><b>1.4</b> Tema BrackInstitute (2022)<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="panelesRStudio.html"><a href="panelesRStudio.html"><i class="fa fa-check"></i><b>1.5</b> Paneles de RStudio<span></span></a></li>
<li class="chapter" data-level="1.6" data-path="librerías-y-repositorios.html"><a href="librerías-y-repositorios.html"><i class="fa fa-check"></i><b>1.6</b> Librerías y Repositorios<span></span></a></li>
<li class="chapter" data-level="1.7" data-path="actualización-de-librerías.html"><a href="actualización-de-librerías.html"><i class="fa fa-check"></i><b>1.7</b> Actualización de librerías<span></span></a></li>
<li class="chapter" data-level="1.8" data-path="tipos-de-documentos-en-rstudio.html"><a href="tipos-de-documentos-en-rstudio.html"><i class="fa fa-check"></i><b>1.8</b> Tipos de documentos en RStudio<span></span></a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="tipos-de-documentos-en-rstudio.html"><a href="tipos-de-documentos-en-rstudio.html#r-script-.r"><i class="fa fa-check"></i><b>1.8.1</b> R Script (.R)<span></span></a></li>
<li class="chapter" data-level="1.8.2" data-path="tipos-de-documentos-en-rstudio.html"><a href="tipos-de-documentos-en-rstudio.html#r-markdown-.rmd"><i class="fa fa-check"></i><b>1.8.2</b> R Markdown (.Rmd)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1.9" data-path="proyectos-de-rstudio.html"><a href="proyectos-de-rstudio.html"><i class="fa fa-check"></i><b>1.9</b> Proyectos de RStudio<span></span></a></li>
<li class="chapter" data-level="1.10" data-path="pedir-ayuda.html"><a href="pedir-ayuda.html"><i class="fa fa-check"></i><b>1.10</b> Pedir ayuda<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rbasico.html"><a href="rbasico.html"><i class="fa fa-check"></i><b>2</b> <strong>Primer contacto con R</strong><span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="ejecutar-código.html"><a href="ejecutar-código.html"><i class="fa fa-check"></i><b>2.1</b> Ejecutar código<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="r-como-calculadora.html"><a href="r-como-calculadora.html"><i class="fa fa-check"></i><b>2.2</b> R como calculadora<span></span></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="r-como-calculadora.html"><a href="r-como-calculadora.html#funciones-matemáticas"><i class="fa fa-check"></i><b>2.2.1</b> Funciones matemáticas<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="operadores-lógicos-y-relacionales.html"><a href="operadores-lógicos-y-relacionales.html"><i class="fa fa-check"></i><b>2.3</b> Operadores lógicos y relacionales<span></span></a></li>
<li class="chapter" data-level="2.4" data-path="comentar-el-código.html"><a href="comentar-el-código.html"><i class="fa fa-check"></i><b>2.4</b> Comentar el código<span></span></a></li>
<li class="chapter" data-level="2.5" data-path="creación-de-variables.html"><a href="creación-de-variables.html"><i class="fa fa-check"></i><b>2.5</b> Creación de variables<span></span></a></li>
<li class="chapter" data-level="2.6" data-path="funciones.html"><a href="funciones.html"><i class="fa fa-check"></i><b>2.6</b> Funciones<span></span></a></li>
<li class="chapter" data-level="2.7" data-path="funciones-básica-útiles.html"><a href="funciones-básica-útiles.html"><i class="fa fa-check"></i><b>2.7</b> Funciones básica útiles<span></span></a></li>
<li class="chapter" data-level="2.8" data-path="ejercicios-del-capítulo.html"><a href="ejercicios-del-capítulo.html"><i class="fa fa-check"></i><b>2.8</b> Ejercicios del capítulo<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="estructurasdatos.html"><a href="estructurasdatos.html"><i class="fa fa-check"></i><b>3</b> <strong>Estructuras de datos</strong><span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="clasificación-de-variables.html"><a href="clasificación-de-variables.html"><i class="fa fa-check"></i><b>3.1</b> Clasificación de variables<span></span></a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="clasificación-de-variables.html"><a href="clasificación-de-variables.html#clases-atómicas"><i class="fa fa-check"></i><b>3.1.1</b> Clases atómicas<span></span></a></li>
<li class="chapter" data-level="3.1.2" data-path="clasificación-de-variables.html"><a href="clasificación-de-variables.html#estructuras-de-datos"><i class="fa fa-check"></i><b>3.1.2</b> Estructuras de datos<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="vectores.html"><a href="vectores.html"><i class="fa fa-check"></i><b>3.2</b> Vectores<span></span></a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="vectores.html"><a href="vectores.html#crear-un-vector"><i class="fa fa-check"></i><b>3.2.1</b> Crear un vector<span></span></a></li>
<li class="chapter" data-level="3.2.2" data-path="vectores.html"><a href="vectores.html#vectores-de-secuencias-y-repeticiones"><i class="fa fa-check"></i><b>3.2.2</b> Vectores de secuencias y repeticiones<span></span></a></li>
<li class="chapter" data-level="3.2.3" data-path="vectores.html"><a href="vectores.html#funciones-útiles-para-vectores"><i class="fa fa-check"></i><b>3.2.3</b> Funciones útiles para vectores<span></span></a></li>
<li class="chapter" data-level="3.2.4" data-path="vectores.html"><a href="vectores.html#operaciones-numéricas-con-vectores"><i class="fa fa-check"></i><b>3.2.4</b> Operaciones numéricas con vectores<span></span></a></li>
<li class="chapter" data-level="3.2.5" data-path="vectores.html"><a href="vectores.html#valores-perdidos-en-vectores"><i class="fa fa-check"></i><b>3.2.5</b> Valores perdidos en vectores<span></span></a></li>
<li class="chapter" data-level="3.2.6" data-path="vectores.html"><a href="vectores.html#indexación-de-vectores"><i class="fa fa-check"></i><b>3.2.6</b> Indexación de vectores<span></span></a></li>
<li class="chapter" data-level="3.2.7" data-path="vectores.html"><a href="vectores.html#muestreo-de-vectores"><i class="fa fa-check"></i><b>3.2.7</b> Muestreo de vectores<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="factores.html"><a href="factores.html"><i class="fa fa-check"></i><b>3.3</b> Factores<span></span></a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="factores.html"><a href="factores.html#crear-un-factor"><i class="fa fa-check"></i><b>3.3.1</b> Crear un factor<span></span></a></li>
<li class="chapter" data-level="3.3.2" data-path="factores.html"><a href="factores.html#niveles-de-un-factor"><i class="fa fa-check"></i><b>3.3.2</b> Niveles de un factor<span></span></a></li>
<li class="chapter" data-level="3.3.3" data-path="factores.html"><a href="factores.html#reordenar-los-niveles"><i class="fa fa-check"></i><b>3.3.3</b> Reordenar los niveles<span></span></a></li>
<li class="chapter" data-level="3.3.4" data-path="factores.html"><a href="factores.html#etiquetas-de-un-factor"><i class="fa fa-check"></i><b>3.3.4</b> Etiquetas de un factor<span></span></a></li>
<li class="chapter" data-level="3.3.5" data-path="factores.html"><a href="factores.html#valores-perdidos-en-un-factor"><i class="fa fa-check"></i><b>3.3.5</b> Valores perdidos en un factor<span></span></a></li>
<li class="chapter" data-level="3.3.6" data-path="factores.html"><a href="factores.html#indexación-de-factores"><i class="fa fa-check"></i><b>3.3.6</b> Indexación de factores<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="matrices.html"><a href="matrices.html"><i class="fa fa-check"></i><b>3.4</b> Matrices<span></span></a></li>
<li class="chapter" data-level="3.5" data-path="data-frames.html"><a href="data-frames.html"><i class="fa fa-check"></i><b>3.5</b> Data Frames<span></span></a></li>
<li class="chapter" data-level="3.6" data-path="tibbles.html"><a href="tibbles.html"><i class="fa fa-check"></i><b>3.6</b> Tibbles<span></span></a></li>
<li class="chapter" data-level="3.7" data-path="listas.html"><a href="listas.html"><i class="fa fa-check"></i><b>3.7</b> Listas<span></span></a></li>
<li class="chapter" data-level="3.8" data-path="coerción-de-variables.html"><a href="coerción-de-variables.html"><i class="fa fa-check"></i><b>3.8</b> Coerción de variables<span></span></a></li>
<li class="chapter" data-level="3.9" data-path="ejercicios-del-capítulo-1.html"><a href="ejercicios-del-capítulo-1.html"><i class="fa fa-check"></i><b>3.9</b> Ejercicios del capítulo<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="carga-y-exportación-de-datos.html"><a href="carga-y-exportación-de-datos.html"><i class="fa fa-check"></i><b>4</b> <strong>Carga y exportación de datos</strong><span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html"><i class="fa fa-check"></i><b>4.1</b> Lectura de bases de datos<span></span></a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html#archivos-delimitados"><i class="fa fa-check"></i><b>4.1.1</b> Archivos delimitados<span></span></a></li>
<li class="chapter" data-level="4.1.2" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html#archivos-tabulados"><i class="fa fa-check"></i><b>4.1.2</b> Archivos tabulados<span></span></a></li>
<li class="chapter" data-level="4.1.3" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html#archivos-delimitados-con-otros-caracteres"><i class="fa fa-check"></i><b>4.1.3</b> Archivos delimitados con otros caracteres<span></span></a></li>
<li class="chapter" data-level="4.1.4" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html#hojas-de-cálculo-de-excel"><i class="fa fa-check"></i><b>4.1.4</b> Hojas de cálculo de Excel<span></span></a></li>
<li class="chapter" data-level="4.1.5" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html#bases-de-datos-de-r"><i class="fa fa-check"></i><b>4.1.5</b> Bases de datos de R<span></span></a></li>
<li class="chapter" data-level="4.1.6" data-path="lectura-de-bases-de-datos.html"><a href="lectura-de-bases-de-datos.html#archivos-de-spss"><i class="fa fa-check"></i><b>4.1.6</b> Archivos de SPSS<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="exportar-basas-de-datos.html"><a href="exportar-basas-de-datos.html"><i class="fa fa-check"></i><b>4.2</b> Exportar basas de datos<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="programación-funcional.html"><a href="programación-funcional.html"><i class="fa fa-check"></i><b>5</b> <strong>Programación funcional</strong><span></span></a>
<ul>
<li class="chapter" data-level="5.1" data-path="creacion-fun.html"><a href="creacion-fun.html"><i class="fa fa-check"></i><b>5.1</b> Creación de funciones<span></span></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="creacion-fun.html"><a href="creacion-fun.html#ejemplo-simple"><i class="fa fa-check"></i><b>5.1.1</b> Ejemplo simple<span></span></a></li>
<li class="chapter" data-level="5.1.2" data-path="creacion-fun.html"><a href="creacion-fun.html#función-de-gauss"><i class="fa fa-check"></i><b>5.1.2</b> Función de Gauss<span></span></a></li>
<li class="chapter" data-level="5.1.3" data-path="creacion-fun.html"><a href="creacion-fun.html#variables-y-valores-por-defecto"><i class="fa fa-check"></i><b>5.1.3</b> Variables y valores por defecto<span></span></a></li>
<li class="chapter" data-level="5.1.4" data-path="creacion-fun.html"><a href="creacion-fun.html#almacenar-variables-directamente-en-el-ambiente"><i class="fa fa-check"></i><b>5.1.4</b> Almacenar variables directamente en el ambiente<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="control-de-flujo.html"><a href="control-de-flujo.html"><i class="fa fa-check"></i><b>5.2</b> Control de flujo<span></span></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="control-de-flujo.html"><a href="control-de-flujo.html#control-con-if"><i class="fa fa-check"></i><b>5.2.1</b> Control con <code>if</code><span></span></a></li>
<li class="chapter" data-level="5.2.2" data-path="control-de-flujo.html"><a href="control-de-flujo.html#control-completo-con-if-y-else"><i class="fa fa-check"></i><b>5.2.2</b> Control completo con <code>if</code> y <code>else</code><span></span></a></li>
<li class="chapter" data-level="5.2.3" data-path="control-de-flujo.html"><a href="control-de-flujo.html#condicionales-en-vectores-de-más-de-un-elemento-con-ifelse"><i class="fa fa-check"></i><b>5.2.3</b> Condicionales en vectores de más de un elemento con <code>ifelse()</code><span></span></a></li>
<li class="chapter" data-level="5.2.4" data-path="control-de-flujo.html"><a href="control-de-flujo.html#condicionales-en-vectores-case_when-de-dplyr"><i class="fa fa-check"></i><b>5.2.4</b> Condicionales en vectores <code>case_when()</code> de <strong>dplyr</strong><span></span></a></li>
<li class="chapter" data-level="5.2.5" data-path="control-de-flujo.html"><a href="control-de-flujo.html#ciclos-o-loops-con-for"><i class="fa fa-check"></i><b>5.2.5</b> Ciclos o Loops con <code>for</code><span></span></a></li>
<li class="chapter" data-level="5.2.6" data-path="control-de-flujo.html"><a href="control-de-flujo.html#ciclos-o-loops-con-replicate"><i class="fa fa-check"></i><b>5.2.6</b> Ciclos o loops con <code>replicate()</code><span></span></a></li>
<li class="chapter" data-level="5.2.7" data-path="control-de-flujo.html"><a href="control-de-flujo.html#ciclos-o-loops-con-while"><i class="fa fa-check"></i><b>5.2.7</b> Ciclos o Loops con <code>while</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="operadoresfuncion.html"><a href="operadoresfuncion.html"><i class="fa fa-check"></i><b>5.3</b> Operadores de función<span></span></a></li>
<li class="chapter" data-level="5.4" data-path="familia-apply.html"><a href="familia-apply.html"><i class="fa fa-check"></i><b>5.4</b> Familia <code>apply()</code><span></span></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="familia-apply.html"><a href="familia-apply.html#función-apply"><i class="fa fa-check"></i><b>5.4.1</b> Función <code>apply()</code><span></span></a></li>
<li class="chapter" data-level="5.4.2" data-path="familia-apply.html"><a href="familia-apply.html#función-lapply"><i class="fa fa-check"></i><b>5.4.2</b> Función <code>lapply()</code><span></span></a></li>
<li class="chapter" data-level="5.4.3" data-path="familia-apply.html"><a href="familia-apply.html#función-tapply"><i class="fa fa-check"></i><b>5.4.3</b> Función <code>tapply()</code><span></span></a></li>
<li class="chapter" data-level="5.4.4" data-path="familia-apply.html"><a href="familia-apply.html#función-sapply"><i class="fa fa-check"></i><b>5.4.4</b> Función <code>sapply()</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="ejercicios-del-capítulo-2.html"><a href="ejercicios-del-capítulo-2.html"><i class="fa fa-check"></i><b>5.5</b> Ejercicios del capítulo<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tidyversecap.html"><a href="tidyversecap.html"><i class="fa fa-check"></i><b>6</b> <strong>Manejo de datos con</strong> <strong>tidyverse</strong><span></span></a>
<ul>
<li class="chapter" data-level="6.1" data-path="datosordenados.html"><a href="datosordenados.html"><i class="fa fa-check"></i><b>6.1</b> Datos ordenados (tidy)<span></span></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="datosordenados.html"><a href="datosordenados.html#qué-evitar-para-tener-datos-tidy"><i class="fa fa-check"></i><b>6.1.1</b> ¿Qué evitar para tener datos tidy?<span></span></a></li>
<li class="chapter" data-level="6.1.2" data-path="datosordenados.html"><a href="datosordenados.html#cómo-se-debe-ver-una-base-tidy"><i class="fa fa-check"></i><b>6.1.2</b> ¿Cómo se debe ver una base tidy?<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="introducción-a-dplyr-y-tidyr.html"><a href="introducción-a-dplyr-y-tidyr.html"><i class="fa fa-check"></i><b>6.2</b> Introducción a <code>dplyr</code> y <code>tidyr</code><span></span></a></li>
<li class="chapter" data-level="6.3" data-path="pipelines-con-tidyverse.html"><a href="pipelines-con-tidyverse.html"><i class="fa fa-check"></i><b>6.3</b> Pipelines con tidyverse<span></span></a></li>
<li class="chapter" data-level="6.4" data-path="tablas-anchas-y-largas-con-tidyr.html"><a href="tablas-anchas-y-largas-con-tidyr.html"><i class="fa fa-check"></i><b>6.4</b> Tablas anchas y largas con tidyr<span></span></a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="tablas-anchas-y-largas-con-tidyr.html"><a href="tablas-anchas-y-largas-con-tidyr.html#de-ancha-a-larga"><i class="fa fa-check"></i><b>6.4.1</b> De ancha a larga<span></span></a></li>
<li class="chapter" data-level="6.4.2" data-path="tablas-anchas-y-largas-con-tidyr.html"><a href="tablas-anchas-y-largas-con-tidyr.html#de-larga-a-ancha"><i class="fa fa-check"></i><b>6.4.2</b> De larga a ancha<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="filtrado.html"><a href="filtrado.html"><i class="fa fa-check"></i><b>6.5</b> Filtrado<span></span></a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="filtrado.html"><a href="filtrado.html#procedimiento-de-filtrado"><i class="fa fa-check"></i><b>6.5.1</b> Procedimiento de filtrado<span></span></a></li>
<li class="chapter" data-level="6.5.2" data-path="filtrado.html"><a href="filtrado.html#aplicaciones-de-filtrado"><i class="fa fa-check"></i><b>6.5.2</b> Aplicaciones de filtrado<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="selección.html"><a href="selección.html"><i class="fa fa-check"></i><b>6.6</b> Selección<span></span></a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="selección.html"><a href="selección.html#seleccionar-con-funciones-especiales"><i class="fa fa-check"></i><b>6.6.1</b> Seleccionar con funciones especiales<span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="agrupamiento.html"><a href="agrupamiento.html"><i class="fa fa-check"></i><b>6.7</b> Agrupamiento<span></span></a></li>
<li class="chapter" data-level="6.8" data-path="conteo.html"><a href="conteo.html"><i class="fa fa-check"></i><b>6.8</b> Conteo<span></span></a></li>
<li class="chapter" data-level="6.9" data-path="resúmenes-estadísticos.html"><a href="resúmenes-estadísticos.html"><i class="fa fa-check"></i><b>6.9</b> Resúmenes estadísticos<span></span></a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="resúmenes-estadísticos.html"><a href="resúmenes-estadísticos.html#otras-funciones-de-la-familia-summarise"><i class="fa fa-check"></i><b>6.9.1</b> Otras funciones de la familia <code>summarise()</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="reordenamiento.html"><a href="reordenamiento.html"><i class="fa fa-check"></i><b>6.10</b> Reordenamiento<span></span></a></li>
<li class="chapter" data-level="6.11" data-path="creación-y-transformación-de-columnas.html"><a href="creación-y-transformación-de-columnas.html"><i class="fa fa-check"></i><b>6.11</b> Creación y transformación de columnas<span></span></a></li>
<li class="chapter" data-level="6.12" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html"><i class="fa fa-check"></i><b>6.12</b> Combinar bases de datos<span></span></a>
<ul>
<li class="chapter" data-level="6.12.1" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html#full_join"><i class="fa fa-check"></i><b>6.12.1</b> <code>full_join()</code><span></span></a></li>
<li class="chapter" data-level="6.12.2" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html#left_join"><i class="fa fa-check"></i><b>6.12.2</b> <code>left_join()</code><span></span></a></li>
<li class="chapter" data-level="6.12.3" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html#right_join"><i class="fa fa-check"></i><b>6.12.3</b> <code>right_join()</code><span></span></a></li>
<li class="chapter" data-level="6.12.4" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html#inner_join"><i class="fa fa-check"></i><b>6.12.4</b> <code>inner_join()</code><span></span></a></li>
<li class="chapter" data-level="6.12.5" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html#semi_join"><i class="fa fa-check"></i><b>6.12.5</b> <code>semi_join()</code><span></span></a></li>
<li class="chapter" data-level="6.12.6" data-path="combinar-bases-de-datos.html"><a href="combinar-bases-de-datos.html#anti_join"><i class="fa fa-check"></i><b>6.12.6</b> <code>anti_join()</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="6.13" data-path="limpieza-de-datos.html"><a href="limpieza-de-datos.html"><i class="fa fa-check"></i><b>6.13</b> Limpieza de datos<span></span></a>
<ul>
<li class="chapter" data-level="6.13.1" data-path="limpieza-de-datos.html"><a href="limpieza-de-datos.html#cuántos-na-existen-en-la-base-de-datos"><i class="fa fa-check"></i><b>6.13.1</b> ¿Cuántos NA existen en la base de datos?<span></span></a></li>
<li class="chapter" data-level="6.13.2" data-path="limpieza-de-datos.html"><a href="limpieza-de-datos.html#cuántos-na-existen-en-cada-columna"><i class="fa fa-check"></i><b>6.13.2</b> ¿Cuántos NA existen en cada columna?<span></span></a></li>
<li class="chapter" data-level="6.13.3" data-path="limpieza-de-datos.html"><a href="limpieza-de-datos.html#en-qué-fila-o-columna-están-los-na"><i class="fa fa-check"></i><b>6.13.3</b> ¿En qué fila o columna están los NA?<span></span></a></li>
<li class="chapter" data-level="6.13.4" data-path="limpieza-de-datos.html"><a href="limpieza-de-datos.html#cómo-reemplazar-los-na-por-otro-valor"><i class="fa fa-check"></i><b>6.13.4</b> ¿Cómo reemplazar los NA por otro valor?<span></span></a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>APÉNDICES<span></span></b></span></li>
<li class="chapter" data-level="A" data-path="solucionario-de-ejercicios.html"><a href="solucionario-de-ejercicios.html"><i class="fa fa-check"></i><b>A</b> <strong>Solucionario de ejercicios</strong><span></span></a>
<ul>
<li class="chapter" data-level="A.1" data-path="cap.-2-primer-contacto-con-r.html"><a href="cap.-2-primer-contacto-con-r.html"><i class="fa fa-check"></i><b>A.1</b> Cap. 2: Primer contacto con R<span></span></a></li>
<li class="chapter" data-level="A.2" data-path="preg-estructurasdatos.html"><a href="preg-estructurasdatos.html"><i class="fa fa-check"></i><b>A.2</b> Cap. 3: Estructuras de datos<span></span></a></li>
<li class="chapter" data-level="A.3" data-path="cap.-5-programación-funcional.html"><a href="cap.-5-programación-funcional.html"><i class="fa fa-check"></i><b>A.3</b> Cap. 5: Programación funcional<span></span></a></li>
</ul></li>
<li class="divider"></li>
<li class='after'">
  <center>
   <a href="https://github.com/irwingss/">
      <img src="figs/banner completo.png" style="width:100%; padding:0px 0; display:block; margin: 0 auto;" alt="MC logo">
   </center>
   </a>
</li>
<li class='after'">
   <div style='text-align:center'>
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
         <i class="fab fa-creative-commons fa-lg"></i>
         <i class="fab fa-creative-commons-by fa-lg"></i>
         <i class="fab fa-creative-commons-sa fa-lg"></i>
      </a>
   </div>
</li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introducción a R para Ciencias</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="limpieza-de-datos" class="section level2 hasAnchor" number="6.13">
<h2><span class="header-section-number">6.13</span> Limpieza de datos<a href="limpieza-de-datos.html#limpieza-de-datos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Esta sección abordará algunos tópicos de limpieza de datos o <em>Data cleaning</em>. Como ya se ha revisado, los valores perdidos o <code>NA</code> causan problemas en el cálculo de parámetros estadísticos de las bases de datos. Más aún, cuando se pretende modelar la relación de una variable Y con los valores de una variable X, es imposible hacer regresión alguna con valores perdidos. Para estos casos, limpiar la base de datos será crucial.</p>

<div class="rmdnote">
Siempre que necesites identificar si un elemento dentro de un objeto es <code>NA</code> o no, podrás utilizar la función <code>is.na()</code>. Esta devolverá un objeto lógico con la misma extensión que el objeto original. En aquellas posiciones donde exista un <code>NA</code> en la base de datos original, <code>is.na()</code> mostrará <code>TRUE</code>.
</div>
<div id="cuántos-na-existen-en-la-base-de-datos" class="section level3 hasAnchor" number="6.13.1">
<h3><span class="header-section-number">6.13.1</span> ¿Cuántos NA existen en la base de datos?<a href="limpieza-de-datos.html#cuántos-na-existen-en-la-base-de-datos" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="example">
<p><span id="exm:unlabeled-div-46" class="example"><strong>Ejemplo 6.24  </strong></span>Considerando la base de datos <code>WHO</code>, calcular la cantidad de NA de la base.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="limpieza-de-datos.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir WHO a tabla lógica </span></span>
<span id="cb192-2"><a href="limpieza-de-datos.html#cb192-2" aria-hidden="true" tabindex="-1"></a><span class="co"># para ubicar con TRUE a los NA</span></span>
<span id="cb192-3"><a href="limpieza-de-datos.html#cb192-3" aria-hidden="true" tabindex="-1"></a>WHO_logical <span class="ot">&lt;-</span> <span class="fu">is.na</span>(WHO)</span></code></pre></div>
<p>Recuerda que para las funciones estadísticas y matemáticas, como <code>mean()</code> o <code>sum()</code>, <code>TRUE</code> equivale a 1 y <code>FALSE</code> a 0. Se puede obtener la proporción de <code>TRUE</code> de un vector con <code>mean()</code>, o la suma de <code>TRUE</code> en el vector con <code>sum()</code>.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="limpieza-de-datos.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sumando todos los TRUE (equivalentes a 1)</span></span>
<span id="cb193-2"><a href="limpieza-de-datos.html#cb193-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(WHO_logical)</span>
<span id="cb193-3"><a href="limpieza-de-datos.html#cb193-3" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] 2563</span></span></code></pre></div>
</div>
</div>
<div id="cuántos-na-existen-en-cada-columna" class="section level3 hasAnchor" number="6.13.2">
<h3><span class="header-section-number">6.13.2</span> ¿Cuántos NA existen en cada columna?<a href="limpieza-de-datos.html#cuántos-na-existen-en-cada-columna" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Hay muchas maneras de llegar a este resultado. Pero el procedimiento es similar en concepto al anterior. Se deben sumar los <code>TRUE</code> (celdas con <code>NA</code>) pero esta vez columna a columna. Como dato adicional, este objetivo también puede conseguir utilizando la función <code>apply()</code> (<a href="familia-apply.html#familia-apply">Sección 5.4 Familia apply()</a>).</p>
<div class="example">
<p><span id="exm:unlabeled-div-47" class="example"><strong>Ejemplo 6.25  </strong></span>Crear una función que sume los NA de un vector:</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="limpieza-de-datos.html#cb194-1" aria-hidden="true" tabindex="-1"></a>fun_na <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">sum</span>(<span class="fu">is.na</span>(x))</span></code></pre></div>
<p>Ahora, utilizar la función aplicada a todas las columnas de la base de datos <code>WHO</code>:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="limpieza-de-datos.html#cb195-1" aria-hidden="true" tabindex="-1"></a>WHO <span class="sc">%&gt;%</span> </span>
<span id="cb195-2"><a href="limpieza-de-datos.html#cb195-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="at">.funs =</span> fun_na)</span>
<span id="cb195-3"><a href="limpieza-de-datos.html#cb195-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   Country Year Status1 Category Level Status2 St2_categ Life_exp Ad_mort Inf_deaths</span></span>
<span id="cb195-4"><a href="limpieza-de-datos.html#cb195-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 1       0    0       0        0     0       0         0       10      10          0</span></span>
<span id="cb195-5"><a href="limpieza-de-datos.html#cb195-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   Alcohol Per_exp Hep_B Measles BMI U5Y Polio Tot_exp Diph AIDS GDP Pop Thin1_19</span></span>
<span id="cb195-6"><a href="limpieza-de-datos.html#cb195-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 1     194       0   553       0  34   0    19     226   19    0 448 652       34</span></span>
<span id="cb195-7"><a href="limpieza-de-datos.html#cb195-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   Thin5_9 Income Schooling</span></span>
<span id="cb195-8"><a href="limpieza-de-datos.html#cb195-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 1      34    167       163</span></span></code></pre></div>
<p>Si son demasiadas columnas para visualizar, considera seleccionar las columnas cuyos valores sean mayores de 0. Crea una función que evalúe un valor y otorgue <code>TRUE</code> si este es mayor que 0.</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="limpieza-de-datos.html#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear la función </span></span>
<span id="cb196-2"><a href="limpieza-de-datos.html#cb196-2" aria-hidden="true" tabindex="-1"></a>fun0 <span class="ot">&lt;-</span> <span class="cf">function</span>(x) x <span class="sc">&gt;</span> <span class="dv">0</span></span></code></pre></div>
<p>La selección ahora utiliza una función que no se utilizó antes: <code>select_if()</code>. Como todas las funciones <code>_if</code> de <strong>dplyr</strong>, esta necesita condicionales para función. Allí entra en juego la función antes creada:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="limpieza-de-datos.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplicarla en select_if()</span></span>
<span id="cb197-2"><a href="limpieza-de-datos.html#cb197-2" aria-hidden="true" tabindex="-1"></a>WHO <span class="sc">%&gt;%</span> </span>
<span id="cb197-3"><a href="limpieza-de-datos.html#cb197-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_all</span>(<span class="at">.funs =</span> fun_na) <span class="sc">%&gt;%</span> </span>
<span id="cb197-4"><a href="limpieza-de-datos.html#cb197-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select_if</span>(fun0)</span>
<span id="cb197-5"><a href="limpieza-de-datos.html#cb197-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   Life_exp Ad_mort Alcohol Hep_B BMI Polio Tot_exp Diph GDP Pop Thin1_19 Thin5_9</span></span>
<span id="cb197-6"><a href="limpieza-de-datos.html#cb197-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 1       10      10     194   553  34    19     226   19 448 652       34      34</span></span>
<span id="cb197-7"><a href="limpieza-de-datos.html#cb197-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   Income Schooling</span></span>
<span id="cb197-8"><a href="limpieza-de-datos.html#cb197-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 1    167       163</span></span></code></pre></div>
</div>
</div>
<div id="en-qué-fila-o-columna-están-los-na" class="section level3 hasAnchor" number="6.13.3">
<h3><span class="header-section-number">6.13.3</span> ¿En qué fila o columna están los NA?<a href="limpieza-de-datos.html#en-qué-fila-o-columna-están-los-na" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ubicar la posición de fila y columna de los valores <code>NA</code> (celdas en blanco) se utiliza cuando se conoce que no deberían haber celdas vacías pero las hay. Encontrarlas permite rellenar dicho valor por el correspondiente que fue omitido en el proceso de rellenado de la base de datos.</p>
<div class="example">
<p><span id="exm:unlabeled-div-48" class="example"><strong>Ejemplo 6.26  </strong></span>Ubicar los valores NA de la base de datos WHO. Mostrar únicamente las 10 primeras del resultado:</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="limpieza-de-datos.html#cb198-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(WHO_logical, <span class="at">arr.ind=</span><span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb198-2"><a href="limpieza-de-datos.html#cb198-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span>
<span id="cb198-3"><a href="limpieza-de-datos.html#cb198-3" aria-hidden="true" tabindex="-1"></a><span class="co">#       row col</span></span>
<span id="cb198-4"><a href="limpieza-de-datos.html#cb198-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 625   625   8</span></span>
<span id="cb198-5"><a href="limpieza-de-datos.html#cb198-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 770   770   8</span></span>
<span id="cb198-6"><a href="limpieza-de-datos.html#cb198-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 1651 1651   8</span></span>
<span id="cb198-7"><a href="limpieza-de-datos.html#cb198-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 1716 1716   8</span></span>
<span id="cb198-8"><a href="limpieza-de-datos.html#cb198-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 1813 1813   8</span></span>
<span id="cb198-9"><a href="limpieza-de-datos.html#cb198-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 1910 1910   8</span></span>
<span id="cb198-10"><a href="limpieza-de-datos.html#cb198-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 1959 1959   8</span></span>
<span id="cb198-11"><a href="limpieza-de-datos.html#cb198-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 2168 2168   8</span></span>
<span id="cb198-12"><a href="limpieza-de-datos.html#cb198-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 2217 2217   8</span></span>
<span id="cb198-13"><a href="limpieza-de-datos.html#cb198-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 2714 2714   8</span></span></code></pre></div>
</div>

<div class="rmdtip">
En inglés, <em>row</em> significa fila y <em>col</em> columna.
</div>
</div>
<div id="cómo-reemplazar-los-na-por-otro-valor" class="section level3 hasAnchor" number="6.13.4">
<h3><span class="header-section-number">6.13.4</span> ¿Cómo reemplazar los NA por otro valor?<a href="limpieza-de-datos.html#cómo-reemplazar-los-na-por-otro-valor" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>En ocasiones se necesita reemplazar los NA por algún valor por defecto que en el análisis sea útil. Por ejemplo, en bases que representan datos SIG (Sistemas de Información Geográficas), algunas celdas necesitan ser 9999, o -256, o algún otro valor, para que el análisis los considere bajo la categoría “no hay dato”. Otros estudios, por su parte, utilizan el rellenar los datos con el promedio o la mediana de la columna. En los siguientes ejemplos veremos su aplicación:</p>
<div class="example">
<p><span id="exm:na11" class="example"><strong>Ejemplo 6.27  </strong></span>Rellenar los valores <code>NA</code> de la base de datos <code>WHO</code> con el valor 9999999. Es excesivamente largo solo con la finalidad de hacerlo notorio, no por otra razón. Selecciona previamente las columnas <code>Alcohol</code>, <code>Hep_B</code>, <code>Measles</code>, <code>Polio</code>, <code>Diph</code> para que el resultado no sea amplio en la consola. Reordenar el resultado por la columna Alcohol y mostrar las últimas 6 filas de la tabla.</p>
<p>Aquí el truco está en una forma especial de <code>mutate_all()</code> para transformar todas las columnas pero utilizando <code>~ifelse()</code> para reemplazar todas la <code>NA</code> (<code>is.na(.x)</code>) por 9999999, y las no <code>NA</code> con el mismo valor original (<code>.x</code>):</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="limpieza-de-datos.html#cb199-1" aria-hidden="true" tabindex="-1"></a>WHO <span class="sc">%&gt;%</span> </span>
<span id="cb199-2"><a href="limpieza-de-datos.html#cb199-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Alcohol, Hep_B, Measles, Polio, Diph) <span class="sc">%&gt;%</span> </span>
<span id="cb199-3"><a href="limpieza-de-datos.html#cb199-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Alcohol) <span class="sc">%&gt;%</span> </span>
<span id="cb199-4"><a href="limpieza-de-datos.html#cb199-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(<span class="sc">~</span><span class="fu">ifelse</span>(<span class="fu">is.na</span>(.x), <span class="dv">9999999</span>, .x)) <span class="sc">%&gt;%</span> </span>
<span id="cb199-5"><a href="limpieza-de-datos.html#cb199-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>() </span>
<span id="cb199-6"><a href="limpieza-de-datos.html#cb199-6" aria-hidden="true" tabindex="-1"></a><span class="co">#      Alcohol Hep_B Measles Polio Diph</span></span>
<span id="cb199-7"><a href="limpieza-de-datos.html#cb199-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 2933   1e+07    64      39    65   64</span></span>
<span id="cb199-8"><a href="limpieza-de-datos.html#cb199-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 2934   1e+07    87       0    87   87</span></span>
<span id="cb199-9"><a href="limpieza-de-datos.html#cb199-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 2935   1e+07    97     256    97   97</span></span>
<span id="cb199-10"><a href="limpieza-de-datos.html#cb199-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 2936   1e+07    69     468    63   69</span></span>
<span id="cb199-11"><a href="limpieza-de-datos.html#cb199-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 2937   1e+07     9       9     9    9</span></span>
<span id="cb199-12"><a href="limpieza-de-datos.html#cb199-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 2938   1e+07    87       0    88   87</span></span></code></pre></div>
</div>
<div class="example">
<p><span id="exm:unlabeled-div-49" class="example"><strong>Ejemplo 6.28  </strong></span>Considera el mismo ejemplo anterior <a href="limpieza-de-datos.html#exm:na11">6.27</a>. No obstante, en lugar de reemplazar <code>NA</code> por 9999999, utiliza la función con <code>mean(.x, na.rm = TRUE)</code> para que los NA se reemplacen por el promedio de la columna.</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="limpieza-de-datos.html#cb200-1" aria-hidden="true" tabindex="-1"></a>WHO <span class="sc">%&gt;%</span> </span>
<span id="cb200-2"><a href="limpieza-de-datos.html#cb200-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Alcohol, Hep_B, Measles, Polio, Diph) <span class="sc">%&gt;%</span> </span>
<span id="cb200-3"><a href="limpieza-de-datos.html#cb200-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Alcohol) <span class="sc">%&gt;%</span> </span>
<span id="cb200-4"><a href="limpieza-de-datos.html#cb200-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate_all</span>(<span class="sc">~</span><span class="fu">ifelse</span>(<span class="fu">is.na</span>(.x), <span class="fu">mean</span>(.x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), .x))<span class="sc">%&gt;%</span> </span>
<span id="cb200-5"><a href="limpieza-de-datos.html#cb200-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tail</span>() </span>
<span id="cb200-6"><a href="limpieza-de-datos.html#cb200-6" aria-hidden="true" tabindex="-1"></a><span class="co">#      Alcohol Hep_B Measles Polio Diph</span></span>
<span id="cb200-7"><a href="limpieza-de-datos.html#cb200-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 2933   4.603    64      39    65   64</span></span>
<span id="cb200-8"><a href="limpieza-de-datos.html#cb200-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 2934   4.603    87       0    87   87</span></span>
<span id="cb200-9"><a href="limpieza-de-datos.html#cb200-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 2935   4.603    97     256    97   97</span></span>
<span id="cb200-10"><a href="limpieza-de-datos.html#cb200-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 2936   4.603    69     468    63   69</span></span>
<span id="cb200-11"><a href="limpieza-de-datos.html#cb200-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 2937   4.603     9       9     9    9</span></span>
<span id="cb200-12"><a href="limpieza-de-datos.html#cb200-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 2938   4.603    87       0    88   87</span></span></code></pre></div>
</div>

</div>
</div>
<!-- </div> -->



            </section>

          </div>
        </div>
      </div>
<a href="combinar-bases-de-datos.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="solucionario-de-ejercicios.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/irwingss/intro_r_ciencias/blob/master/06-tidyverse.Rmd",
"text": "Editar"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"depth": 2,
"scroll_highlight": true
},
"df_print": "kable"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
